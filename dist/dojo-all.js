/**
 * dojo - A version of dojo.js framework that ported to running on skylarkjs.
 * @author Hudaokeji, Inc.
 * @version v0.9.0
 * @link https://github.com/skylark-integration/dojo/
 * @license MIT
 */
!function(factory,globals){var define=globals.define,require=globals.require,isAmd="function"==typeof define&&define.amd,isCmd=!isAmd&&"undefined"!=typeof exports;if(!isAmd&&!define){var map={};define=globals.define=function(e,t,n){"function"==typeof n?(map[e]={factory:n,deps:t.map(function(t){return function(e,t){if("."!==e[0])return e;var n=t.split("/"),r=e.split("/");n.pop();for(var o=0;o<r.length;o++)"."!=r[o]&&(".."==r[o]?n.pop():n.push(r[o]));return n.join("/")}(t,e)}),resolved:!1,exports:null},require(e)):map[e]={factory:null,resolved:!0,exports:n}},require=globals.require=function(e){if(!map.hasOwnProperty(e))throw new Error("Module "+e+" has not been defined");var t=map[e];if(!t.resolved){var n=[];t.deps.forEach(function(e){n.push(require(e))}),t.exports=t.factory.apply(globals,n)||null,t.resolved=!0}return t.exports}}if(!define)throw new Error("The module utility (ex: requirejs or skylark-utils) is not loaded!");if(function(define,require){define("dojo/has",["require","module"],function(e,t){var n=e.has||function(){};if(!n("dojo-has-api")){var r="undefined"!=typeof window&&"undefined"!=typeof location&&"undefined"!=typeof document&&window.location==location&&window.document==document,o=function(){return this}(),i=r&&document,a=i&&i.createElement("DiV"),s=t.config&&t.config()||{};(n=function(e){return"function"==typeof s[e]?s[e]=s[e](o,i,a):s[e]}).cache=s,n.add=function(e,t,r,o){return(void 0===s[e]||o)&&(s[e]=t),r&&n(e)},n.add("host-browser",r),n.add("host-node","object"==typeof process&&process.versions&&process.versions.node&&process.versions.v8),n.add("host-rhino","function"==typeof load&&("function"==typeof Packages||"object"==typeof Packages)),n.add("dom",r),n.add("dojo-dom-ready-api",1),n.add("dojo-sniff",1)}if(n("host-browser")){n.add("dom-addeventlistener",!!document.addEventListener),n.add("touch","ontouchstart"in document||"onpointerdown"in document&&navigator.maxTouchPoints>0||window.navigator.msMaxTouchPoints),n.add("touch-events","ontouchstart"in document),n.add("pointer-events","onpointerdown"in document),n.add("MSPointer","msMaxTouchPoints"in navigator),n.add("device-width",screen.availWidth||innerWidth);var u=document.createElement("form");n.add("dom-attributes-explicit",0==u.attributes.length),n.add("dom-attributes-specified-flag",u.attributes.length>0&&u.attributes.length<40)}return n.clearElement=function(e){return e.innerHTML="",e},n.normalize=function(e,t){var r=e.match(/[\?:]|[^:\?]*/g),o=0,i=function(e){var t=r[o++];return":"==t?0:"?"==r[o++]?!e&&n(t)?i():(i(!0),i(e)):t||0};return(e=i())&&t(e)},n.load=function(e,t,n){e?t([e],n):n()},n}),define("dojo/_base/config",["../has","require"],function(e,t){var n={};if(e("dojo-config-api")){var r,o=t.rawConfig;for(r in o)n[r]=o[r]}else{var i=function(t,n,o){for(r in t)"has"!=r&&e.add(n+r,t[r],0,o)},a=function(){return this}();n=e("dojo-loader")?t.rawConfig:a.dojoConfig||a.djConfig||{},i(n,"config",1),i(n.has,"",1)}if(!n.locale&&"undefined"!=typeof navigator){var s=navigator.language||navigator.userLanguage;s&&(n.locale=s.toLowerCase())}return n}),define("dojo/_base/kernel",["../has","./config","require","module"],function(e,t,n,r){var o,i,a,s=function(){return this}(),u={},c={},f={config:t,global:s,dijit:u,dojox:c},l={dojo:["dojo",f],dijit:["dijit",u],dojox:["dojox",c]},d=n.map&&n.map[r.id.match(/[^\/]+/)[0]];for(i in d)l[i]?l[i][0]=d[i]:l[i]=[d[i],{}];for(i in l)(a=l[i])[1]._scopeName=a[0],t.noGlobals||(s[a[0]]=a[1]);f.scopeMap=l,f.baseUrl=f.config.baseUrl=n.baseUrl,f.isAsync=!e("dojo-loader")||n.async,f.locale=t.locale;var p="$Rev: f4fef70 $".match(/[0-9a-f]{7,}/);if(f.version={major:1,minor:10,patch:4,flag:"",revision:p?p[0]:NaN,toString:function(){var e=f.version;return e.major+"."+e.minor+"."+e.patch+e.flag+" ("+e.revision+")"}},e.add("extend-dojo",1),Function("d","d.eval = function(){return d.global.eval ? d.global.eval(arguments[0]) : eval(arguments[0]);}")(f),e("host-rhino")?f.exit=function(e){quit(e)}:f.exit=function(){},e.add("dojo-guarantee-console",1),e("dojo-guarantee-console")){"undefined"!=typeof console||(console={});var h,g=["assert","count","debug","dir","dirxml","error","group","groupEnd","info","profile","profileEnd","time","timeEnd","trace","warn","log"];for(o=0;h=g[o++];)console[h]||function(){var e=h+"";console[e]="log"in console?function(){var t=Array.prototype.slice.call(arguments);t.unshift(e+":"),console.log(t.join(" "))}:function(){},console[e]._fake=!0}()}if(e.add("dojo-debug-messages",!!t.isDebug),f.deprecated=f.experimental=function(){},e("dojo-debug-messages")&&(f.deprecated=function(e,t,n){var r="DEPRECATED: "+e;t&&(r+=" "+t),n&&(r+=" -- will be removed in version: "+n),console.warn(r)},f.experimental=function(e,t){var n="EXPERIMENTAL: "+e+" -- APIs subject to change without notice.";t&&(n+=" "+t),console.warn(n)}),e.add("dojo-modulePaths",1),e("dojo-modulePaths")&&t.modulePaths){f.deprecated("dojo.modulePaths","use paths configuration");var v={};for(i in t.modulePaths)v[i.replace(/\./g,"/")]=t.modulePaths[i];n({paths:v})}return e.add("dojo-moduleUrl",1),e("dojo-moduleUrl")&&(f.moduleUrl=function(e,t){f.deprecated("dojo.moduleUrl()","use require.toUrl","2.0");var r=null;return e&&(r=n.toUrl(e.replace(/\./g,"/")+(t?"/"+t:"")+"/*.*").replace(/\/\*\.\*/,"")+(t?"":"/")),r}),f._hasResource={},f}),define("dojo/sniff",["./has"],function(e){if(e("host-browser")){var t=navigator,n=t.userAgent,r=t.appVersion,o=parseFloat(r);if(e.add("air",n.indexOf("AdobeAIR")>=0),e.add("msapp",parseFloat(n.split("MSAppHost/")[1])||void 0),e.add("khtml",r.indexOf("Konqueror")>=0?o:void 0),e.add("webkit",parseFloat(n.split("WebKit/")[1])||void 0),e.add("chrome",parseFloat(n.split("Chrome/")[1])||void 0),e.add("safari",r.indexOf("Safari")>=0&&!e("chrome")?parseFloat(r.split("Version/")[1]):void 0),e.add("mac",r.indexOf("Macintosh")>=0),e.add("quirks","BackCompat"==document.compatMode),n.match(/(iPhone|iPod|iPad)/)){var i=RegExp.$1.replace(/P/,"p"),a=n.match(/OS ([\d_]+)/)?RegExp.$1:"1",s=parseFloat(a.replace(/_/,".").replace(/_/g,""));e.add(i,s),e.add("ios",s)}if(e.add("android",parseFloat(n.split("Android ")[1])||void 0),e.add("bb",(n.indexOf("BlackBerry")>=0||n.indexOf("BB10")>=0)&&parseFloat(n.split("Version/")[1])||void 0),e.add("trident",parseFloat(r.split("Trident/")[1])||void 0),e.add("svg","undefined"!=typeof SVGAngle),!e("webkit")){if(n.indexOf("Opera")>=0&&e.add("opera",o>=9.8&&parseFloat(n.split("Version/")[1])||o),n.indexOf("Gecko")>=0&&!e("khtml")&&!e("webkit")&&!e("trident")&&e.add("mozilla",o),e("mozilla")&&e.add("ff",parseFloat(n.split("Firefox/")[1]||n.split("Minefield/")[1])||void 0),document.all&&!e("opera")){var u=parseFloat(r.split("MSIE ")[1])||void 0,c=document.documentMode;c&&5!=c&&Math.floor(u)!=c&&(u=c),e.add("ie",u)}e.add("wii","undefined"!=typeof opera&&opera.wiiremote)}}return e}),define("dojo/_base/lang",["./kernel","../has","../sniff"],function(e,t){t.add("bug-for-in-skips-shadowed",function(){for(var e in{toString:1})return 0;return 1});var n=t("bug-for-in-skips-shadowed")?"hasOwnProperty.valueOf.isPrototypeOf.propertyIsEnumerable.toLocaleString.toString.constructor".split("."):[],r=n.length,o=function(t,n,r){r||(r=t[0]&&e.scopeMap[t[0]]?e.scopeMap[t.shift()][1]:e.global);try{for(var o=0;o<t.length;o++){var i=t[o];if(!(i in r)){if(!n)return;r[i]={}}r=r[i]}return r}catch(e){}},i=Object.prototype.toString,a=function(e,t,n){return(n||[]).concat(Array.prototype.slice.call(e,t||0))},s=/\{([^\}]+)\}/g,u={_extraNames:n,_mixin:function(e,o,i){var a,s,u,c={};for(a in o)s=o[a],a in e&&(e[a]===s||a in c&&c[a]===s)||(e[a]=i?i(s):s);if(t("bug-for-in-skips-shadowed")&&o)for(u=0;u<r;++u)a=n[u],s=o[a],a in e&&(e[a]===s||a in c&&c[a]===s)||(e[a]=i?i(s):s);return e},mixin:function(e,t){e||(e={});for(var n=1,r=arguments.length;n<r;n++)u._mixin(e,arguments[n]);return e},setObject:function(e,t,n){var r=e.split("."),i=r.pop(),a=o(r,!0,n);return a&&i?a[i]=t:void 0},getObject:function(e,t,n){return o(e?e.split("."):[],t,n)},exists:function(e,t){return void 0!==u.getObject(e,!1,t)},isString:function(e){return"string"==typeof e||e instanceof String},isArray:function(e){return e&&(e instanceof Array||"array"==typeof e)},isFunction:function(e){return"[object Function]"===i.call(e)},isObject:function(e){return void 0!==e&&(null===e||"object"==typeof e||u.isArray(e)||u.isFunction(e))},isArrayLike:function(e){return e&&void 0!==e&&!u.isString(e)&&!u.isFunction(e)&&!(e.tagName&&"form"==e.tagName.toLowerCase())&&(u.isArray(e)||isFinite(e.length))},isAlien:function(e){return e&&!u.isFunction(e)&&/\{\s*\[native code\]\s*\}/.test(String(e))},extend:function(e,t){for(var n=1,r=arguments.length;n<r;n++)u._mixin(e.prototype,arguments[n]);return e},_hitchArgs:function(t,n){var r=u._toArray(arguments,2),o=u.isString(n);return function(){var i=u._toArray(arguments),a=o?(t||e.global)[n]:n;return a&&a.apply(t||this,r.concat(i))}},hitch:function(t,n){if(arguments.length>2)return u._hitchArgs.apply(e,arguments);if(n||(n=t,t=null),u.isString(n)){if(!(t=t||e.global)[n])throw['lang.hitch: scope["',n,'"] is null (scope="',t,'")'].join("");return function(){return t[n].apply(t,arguments||[])}}return t?function(){return n.apply(t,arguments||[])}:n},delegate:function(){function e(){}return function(t,n){e.prototype=t;var r=new e;return e.prototype=null,n&&u._mixin(r,n),r}}(),_toArray:t("ie")?function(){return function(e){return(e.item?function(e,t,n){for(var r=n||[],o=t||0;o<e.length;o++)r.push(e[o]);return r}:a).apply(this,arguments)}}():a,partial:function(t){return u.hitch.apply(e,[null].concat(u._toArray(arguments)))},clone:function(e){if(!e||"object"!=typeof e||u.isFunction(e))return e;if(e.nodeType&&"cloneNode"in e)return e.cloneNode(!0);if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp)return new RegExp(e);var t,n,r;if(u.isArray(e))for(t=[],n=0,r=e.length;n<r;++n)n in e&&t.push(u.clone(e[n]));else t=e.constructor?new e.constructor:{};return u._mixin(t,e,u.clone)},trim:String.prototype.trim?function(e){return e.trim()}:function(e){return e.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},replace:function(e,t,n){return e.replace(n||s,u.isFunction(t)?t:function(e,n){return u.getObject(n,!1,t)})}};return t("extend-dojo")&&u.mixin(e,u),u}),define("dojo/_base/array",["./kernel","../has","./lang"],function(e,t,n){var r,o={};function i(e){return o[e]=new Function("item","index","array",e)}function a(e){var t=!e;return function(n,r,a){var s,u=0,c=n&&n.length||0;if(c&&"string"==typeof n&&(n=n.split("")),"string"==typeof r&&(r=o[r]||i(r)),a){for(;u<c;++u)if(s=!r.call(a,n[u],u,n),e^s)return!s}else for(;u<c;++u)if(s=!r(n[u],u,n),e^s)return!s;return t}}function s(e){var t=1,n=0,o=0;return e||(t=n=o=-1),function(i,a,s,c){if(c&&t>0)return u.lastIndexOf(i,a,s);var f,l=i&&i.length||0,d=e?l+o:n;for(s===r?f=e?n:l+o:s<0?(f=l+s)<0&&(f=n):f=s>=l?l+o:s,l&&"string"==typeof i&&(i=i.split(""));f!=d;f+=t)if(i[f]==a)return f;return-1}}var u={every:a(!1),some:a(!0),indexOf:s(!0),lastIndexOf:s(!1),forEach:function(e,t,n){var r=0,a=e&&e.length||0;if(a&&"string"==typeof e&&(e=e.split("")),"string"==typeof t&&(t=o[t]||i(t)),n)for(;r<a;++r)t.call(n,e[r],r,e);else for(;r<a;++r)t(e[r],r,e)},map:function(e,t,n,r){var a=0,s=e&&e.length||0,u=new(r||Array)(s);if(s&&"string"==typeof e&&(e=e.split("")),"string"==typeof t&&(t=o[t]||i(t)),n)for(;a<s;++a)u[a]=t.call(n,e[a],a,e);else for(;a<s;++a)u[a]=t(e[a],a,e);return u},filter:function(e,t,n){var r,a=0,s=e&&e.length||0,u=[];if(s&&"string"==typeof e&&(e=e.split("")),"string"==typeof t&&(t=o[t]||i(t)),n)for(;a<s;++a)r=e[a],t.call(n,r,a,e)&&u.push(r);else for(;a<s;++a)r=e[a],t(r,a,e)&&u.push(r);return u},clearCache:function(){o={}}};return t("extend-dojo")&&n.mixin(e,u),u}),define("dojo/ready",["./_base/kernel","./has","require","./has!host-browser?./domReady","./_base/lang"],function(e,t,n,r,o){var i=0,a=[],s=0,u=function(){i=1,e._postLoad=e.config.afterOnLoad=!0,c()},c=function(){if(!s){for(s=1;i&&(!r||0==r._Q.length)&&(!n.idle||n.idle())&&a.length;){var e=a.shift();try{e()}catch(e){if(e.info=e.message,!n.signal)throw e;n.signal("error",e)}}s=0}};n.on&&n.on("idle",c),r&&(r._onQEmpty=c);var f=e.ready=e.addOnLoad=function(t,n,r){var i=o._toArray(arguments);"number"!=typeof t?(r=n,n=t,t=1e3):i.shift(),(r=r?o.hitch.apply(e,i):function(){n()}).priority=t;for(var s=0;s<a.length&&t>=a[s].priority;s++);a.splice(s,0,r),c()};if(t.add("dojo-config-addOnLoad",1),t("dojo-config-addOnLoad")){var l=e.config.addOnLoad;l&&f[o.isArray(l)?"apply":"call"](e,l)}return t("dojo-sync-loader")&&e.config.parseOnLoad&&!e.isAsync&&f(99,function(){e.parser||(e.deprecated("Add explicit require(['dojo/parser']);","","2.0"),n(["dojo/parser"]))}),r?r(u):u(),f}),define("dojo/_base/declare",["./kernel","../has","./lang"],function(e,t,n){var r=n.mixin,o=Object.prototype,i=o.toString,a=new Function,s=0,u="constructor";function c(e,t){throw new Error("declare"+(t?" "+t:"")+": "+e)}function f(e,t,n){var r,i,a,s,f,l,d,p,h,g=this._inherited=this._inherited||{};if("string"==typeof e&&(r=e,e=t,t=n),n=0,s=e.callee,(r=r||s.nom)||c("can't deduce a name to call inherited()",this.declaredClass),f=this.constructor._meta,a=f.bases,h=g.p,r!=u){if(g.c!==s&&(h=0,l=a[0],(f=l._meta).hidden[r]!==s)){(i=f.chains)&&"string"==typeof i[r]&&c("calling chained method with inherited: "+r,this.declaredClass);do{if(f=l._meta,d=l.prototype,f&&(d[r]===s&&d.hasOwnProperty(r)||f.hidden[r]===s))break}while(l=a[++h]);h=l?h:-1}if(l=a[++h])if(d=l.prototype,l._meta&&d.hasOwnProperty(r))n=d[r];else{p=o[r];do{if(d=l.prototype,(n=d[r])&&(l._meta?d.hasOwnProperty(r):n!==p))break}while(l=a[++h])}n=l&&n||o[r]}else{if(g.c!==s&&(h=0,(f=a[0]._meta)&&f.ctor!==s)){for((i=f.chains)&&"manual"===i.constructor||c("calling chained constructor with inherited",this.declaredClass);(l=a[++h])&&(!(f=l._meta)||f.ctor!==s););h=l?h:-1}for(;(l=a[++h])&&(f=l._meta,!(n=f?f.ctor:l)););n=l&&n}if(g.c=n,g.p=h,n)return!0===t?n:n.apply(this,t||e)}function l(e,t){return"string"==typeof e?this.__inherited(e,t,!0):this.__inherited(e,!0)}var d=e.config.isDebug?function(e,t,n){var r=this.getInherited(e,t);if(r)return r.apply(this,n||t||e)}:f;function p(e){for(var t=this.constructor._meta.bases,n=0,r=t.length;n<r;++n)if(t[n]===e)return!0;return this instanceof e}function h(e,r){for(var o in r)o!=u&&r.hasOwnProperty(o)&&(e[o]=r[o]);if(t("bug-for-in-skips-shadowed"))for(var i=n._extraNames,a=i.length;a;)(o=i[--a])!=u&&r.hasOwnProperty(o)&&(e[o]=r[o])}function g(e){return w.safeMixin(this.prototype,e),this}function v(e,t){return e instanceof Array||"function"==typeof e||(t=e,e=void 0),t=t||{},w([this].concat(e=e||[]),t)}function m(e,t,n){return function(){var r,o,i,a=0,s=1;for(n&&(a=t.length-1,s=-1);r=t[a];a+=s)o=r._meta,(i=(o?o.hidden:r.prototype)[e])&&i.apply(this,arguments)}}function y(e){a.prototype=e.prototype;var t=new a;return a.prototype=null,t}function b(e){var t=e.callee,n=y(t);return t.apply(n,e),n}function w(e,t,a){"string"!=typeof e&&(a=t,t=e,e=""),a=a||{};var j,E,x,_,k,C,S,P=1,A=t;if("[object Array]"==i.call(t)?(C=function(e,t){for(var n,r,o,a,u,f,l,d,p=[],h=[{cls:0,refs:[]}],g={},v=1,m=e.length,y=0;y<m;++y){for((o=e[y])?"[object Function]"!=i.call(o)&&c("mixin #"+y+" is not a callable constructor.",t):c("mixin #"+y+" is unknown. Did you use dojo.require to pull it in?",t),r=o._meta?o._meta.bases:[o],a=0,n=r.length-1;n>=0;--n)(u=r[n].prototype).hasOwnProperty("declaredClass")||(u.declaredClass="uniqName_"+s++),l=u.declaredClass,g.hasOwnProperty(l)||(g[l]={count:0,refs:[],cls:r[n]},++v),f=g[l],a&&a!==f&&(f.refs.push(a),++a.count),a=f;++a.count,h[0].refs.push(a)}for(;h.length;){for(a=h.pop(),p.push(a.cls),--v;1==(d=a.refs).length;){if(!(a=d[0])||--a.count){a=0;break}p.push(a.cls),--v}if(a)for(y=0,m=d.length;y<m;++y)--(a=d[y]).count||h.push(a)}v&&c("can't build consistent linearization",t);return o=e[0],p[0]=o?o._meta&&o===p[p.length-o._meta.bases.length]?o._meta.bases.length:1:0,p}(t,e),x=C[0],P=C.length-x,t=C[P]):(C=[0],t?"[object Function]"==i.call(t)?(x=t._meta,C=C.concat(x?x.bases:t)):c("base class is not a callable constructor.",e):null!==t&&c("unknown base class. Did you use dojo.require to pull it in?",e)),t)for(E=P-1;j=y(t),E;--E)((x=C[E])._meta?h:r)(j,x.prototype),(_=new Function).superclass=t,_.prototype=j,t=j.constructor=_;else j={};for(w.safeMixin(j,a),(x=a.constructor)!==o.constructor&&(x.nom=u,j.constructor=x),E=P-1;E;--E)(x=C[E]._meta)&&x.chains&&(S=r(S||{},x.chains));if(j["-chains-"]&&(S=r(S||{},j["-chains-"])),x=!S||!S.hasOwnProperty(u),C[0]=_=S&&"manual"===S.constructor?function(e){return function(){var t,n,r=arguments,o=0;if(!(this instanceof r.callee))return b(r);for(;t=e[o];++o)if(n=t._meta,t=n?n.ctor:t){t.apply(this,r);break}(t=this.postscript)&&t.apply(this,r)}}(C):1==C.length?function(e,t){return function(){var n,r=arguments,o=r,i=r[0];if(!(this instanceof r.callee))return b(r);t&&(i&&(n=i.preamble)&&(o=n.apply(this,o)||o),(n=this.preamble)&&n.apply(this,o)),e&&e.apply(this,r),(n=this.postscript)&&n.apply(this,r)}}(a.constructor,x):function(e,t){return function(){var n,r,o,i,a=arguments,s=a,u=a[0],c=e.length;if(!(this instanceof a.callee))return b(a);if(t&&(u&&u.preamble||this.preamble))for((i=new Array(e.length))[0]=a,r=0;(u=a[0])&&(n=u.preamble)&&(a=n.apply(this,a)||a),(n=(n=e[r].prototype).hasOwnProperty("preamble")&&n.preamble)&&(a=n.apply(this,a)||a),++r!=c;)i[r]=a;for(r=c-1;r>=0;--r)n=e[r],o=n._meta,(n=o?o.ctor:n)&&n.apply(this,i?i[r]:a);(n=this.postscript)&&n.apply(this,s)}}(C,x),_._meta={bases:C,hidden:a,chains:S,parents:A,ctor:a.constructor},_.superclass=t&&t.prototype,_.extend=g,_.createSubclass=v,_.prototype=j,j.constructor=_,j.getInherited=l,j.isInstanceOf=p,j.inherited=d,j.__inherited=f,e&&(j.declaredClass=e,n.setObject(e,_)),S)for(k in S)j[k]&&"string"==typeof S[k]&&k!=u&&((x=j[k]=m(k,C,"after"===S[k])).nom=k);return _}return e.safeMixin=w.safeMixin=function(e,r){var a,s;for(a in r)(s=r[a])===o[a]&&a in o||a==u||("[object Function]"==i.call(s)&&(s.nom=a),e[a]=s);if(t("bug-for-in-skips-shadowed"))for(var c=n._extraNames,f=c.length;f;)a=c[--f],(s=r[a])===o[a]&&a in o||a==u||("[object Function]"==i.call(s)&&(s.nom=a),e[a]=s);return e},e.declare=w,w}),define("dojo/aspect",[],function(){"use strict";var e,t=0;function n(n){return function(r,o,i,a){var s,u=r[o];u&&u.target==r||(r[o]=s=function(){for(var n=t,r=arguments,o=s.before;o;)r=o.advice.apply(this,r)||r,o=o.next;if(s.around)var i=s.around.advice(this,r);for(var a=s.after;a&&a.id<n;){if(a.receiveArguments){var u=a.advice.apply(this,r);i=u===e?i:u}else i=a.advice.call(this,i,r);a=a.next}return i},u&&(s.around={advice:function(e,t){return u.apply(e,t)}}),s.target=r);var c=function(e,n,r,o){var i,a=e[n],s="around"==n;if(s){var u=r(function(){return a.advice(this,arguments)});i={remove:function(){u&&(u=e=r=null)},advice:function(e,t){return u?u.apply(e,t):a.advice(e,t)}}}else i={remove:function(){if(i.advice){var t=i.previous,o=i.next;o||t?(t?t.next=o:e[n]=o,o&&(o.previous=t)):delete e[n],e=r=i.advice=null}},id:t++,advice:r,receiveArguments:o};if(a&&!s)if("after"==n){for(;a.next&&(a=a.next););a.next=i,i.previous=a}else"before"==n&&(e[n]=i,i.next=a,a.previous=i);else e[n]=i;return i}(s||u,n,i,a);return i=null,c}}var r=n("after"),o=n("before"),i=n("around");return{before:o,around:i,after:r}}),define("dojo/on",["./has!dom-addeventlistener?:./aspect","./_base/kernel","./sniff"],function(e,t,n){"use strict";if(n("dom")){var r=window.ScriptEngineMajorVersion;n.add("jscript",r&&r()+ScriptEngineMinorVersion()/10),n.add("event-orientationchange",n("touch")&&!n("android")),n.add("event-stopimmediatepropagation",window.Event&&!!window.Event.prototype&&!!window.Event.prototype.stopImmediatePropagation),n.add("event-focusin",function(e,t,n){return"onfocusin"in n}),n("touch")&&n.add("touch-can-modify-event-delegate",function(){var e=function(){};e.prototype=document.createEvent("MouseEvents");try{var t=new e;return t.target=null,null===t.target}catch(e){return!1}})}var o=function(e,t,n,r){return"function"!=typeof e.on||"function"==typeof t||e.nodeType?o.parse(e,t,n,a,r,this):e.on(t,n)};o.pausable=function(e,t,n,r){var i,a=o(e,t,function(){if(!i)return n.apply(this,arguments)},r);return a.pause=function(){i=!0},a.resume=function(){i=!1},a},o.once=function(e,t,n,r){var i=o(e,t,function(){return i.remove(),n.apply(this,arguments)});return i},o.parse=function(e,t,n,r,i,a){if(t.call)return t.call(a,e,n);if(t instanceof Array)s=t;else if(t.indexOf(",")>-1)var s=t.split(/\s*,\s*/);if(s){for(var u,c=[],f=0;u=s[f++];)c.push(o.parse(e,u,n,r,i,a));return c.remove=function(){for(var e=0;e<c.length;e++)c[e].remove()},c}return r(e,t,n,i,a)};var i=/^touch/;function a(e,t,r,a,s){var u=t.match(/(.*):(.*)/);if(u)return t=u[2],u=u[1],o.selector(u,t).call(s,e,r);if(n("touch")&&(i.test(t)&&(r=E(r)),n("event-orientationchange")||"orientationchange"!=t||(t="resize",e=window,r=E(r))),p&&(r=p(r)),e.addEventListener){var c=t in l,f=c?l[t]:t;return e.addEventListener(f,r,c),{remove:function(){e.removeEventListener(f,r,c)}}}if(t="on"+t,v&&e.attachEvent)return v(e,t,r);throw new Error("Target must be an event emitter")}function s(){this.cancelable=!1,this.defaultPrevented=!0}function u(){this.bubbles=!1}o.matches=function(e,n,r,o,i){for(i=i&&i.matches?i:t.query,o=!1!==o,1!=e.nodeType&&(e=e.parentNode);!i.matches(e,n,r);)if(e==r||!1===o||!(e=e.parentNode)||1!=e.nodeType)return!1;return e},o.selector=function(e,t,n){return function(r,i){var a="function"==typeof e?{matches:e}:this,s=t.bubble;function u(t){return o.matches(t,e,r,n,a)}return s?o(r,s(u),i):o(r,t,function(e){var t=u(e.target);if(t)return i.call(t,e)})}};var c=[].slice,f=o.emit=function(e,t,n){var r=c.call(arguments,2),o="on"+t;if("parentNode"in e){var i=r[0]={};for(var a in n)i[a]=n[a];i.preventDefault=s,i.stopPropagation=u,i.target=e,i.type=t,n=i}do{e[o]&&e[o].apply(e,r)}while(n&&n.bubbles&&(e=e.parentNode));return n&&n.cancelable&&n},l=n("event-focusin")?{}:{focusin:"focus",focusout:"blur"};if(!n("event-stopimmediatepropagation"))var d=function(){this.immediatelyStopped=!0,this.modified=!0},p=function(e){return function(t){if(!t.immediatelyStopped)return t.stopImmediatePropagation=d,e.apply(this,arguments)}};if(n("dom-addeventlistener"))o.emit=function(e,t,n){if(e.dispatchEvent&&document.createEvent){var r=e.ownerDocument||document,i=r.createEvent("HTMLEvents");for(var a in i.initEvent(t,!!n.bubbles,!!n.cancelable),n)a in i||(i[a]=n[a]);return e.dispatchEvent(i)&&i}return f.apply(o,arguments)};else{o._fixEvent=function(e,t){if(!e){var n=t&&(t.ownerDocument||t.document||t).parentWindow||window;e=n.event}if(!e)return e;try{h&&e.type==h.type&&e.srcElement==h.target&&(e=h)}catch(e){}if(!e.target)switch(e.target=e.srcElement,e.currentTarget=t||e.srcElement,"mouseover"==e.type&&(e.relatedTarget=e.fromElement),"mouseout"==e.type&&(e.relatedTarget=e.toElement),e.stopPropagation||(e.stopPropagation=y,e.preventDefault=b),e.type){case"keypress":var r="charCode"in e?e.charCode:e.keyCode;10==r?(r=0,e.keyCode=13):13==r||27==r?r=0:3==r&&(r=99),e.charCode=r,m(e)}return e};var h,g=function(e){this.handle=e};g.prototype.remove=function(){delete _dojoIEListeners_[this.handle]};var v=function(t,r,i){if(i=function(e){return function(t){t=o._fixEvent(t,this);var n=e.call(this,t);return t.modified&&(h||setTimeout(function(){h=null}),h=t),n}}(i),((t.ownerDocument?t.ownerDocument.parentWindow:t.parentWindow||t.window||window)!=top||n("jscript")<5.8)&&!n("config-_allow_leaks")){"undefined"==typeof _dojoIEListeners_&&(_dojoIEListeners_=[]);var a,s=t[r];if(!s||!s.listeners){var u=s;(s=Function("event","var callee = arguments.callee; for(var i = 0; i<callee.listeners.length; i++){var listener = _dojoIEListeners_[callee.listeners[i]]; if(listener){listener.call(this,event);}}")).listeners=[],t[r]=s,s.global=this,u&&s.listeners.push(_dojoIEListeners_.push(u)-1)}return s.listeners.push(a=s.global._dojoIEListeners_.push(i)-1),new g(a)}return e.after(t,r,i,!0)},m=function(e){e.keyChar=e.charCode?String.fromCharCode(e.charCode):"",e.charOrCode=e.keyChar||e.keyCode},y=function(){this.cancelBubble=!0},b=o._preventDefault=function(){if(this.bubbledKeyCode=this.keyCode,this.ctrlKey)try{this.keyCode=0}catch(e){}this.defaultPrevented=!0,this.returnValue=!1,this.modified=!0}}if(n("touch"))var w=function(){},j=window.orientation,E=function(e){return function(t){var r=t.corrected;if(!r){var o=t.type;try{delete t.type}catch(e){}if(t.type){if(n("touch-can-modify-event-delegate"))w.prototype=t,r=new w;else for(var i in r={},t)r[i]=t[i];r.preventDefault=function(){t.preventDefault()},r.stopPropagation=function(){t.stopPropagation()}}else(r=t).type=o;if(t.corrected=r,"resize"==o)return j==window.orientation?null:(j=window.orientation,r.type="orientationchange",e.call(this,r));"rotation"in r||(r.rotation=0,r.scale=1);var a=r.changedTouches[0];for(var s in a)delete r[s],r[s]=a[s]}return e.call(this,r)}};return o}),define("dojo/Evented",["./aspect","./on"],function(e,t){"use strict";var n=e.after;function r(){}return r.prototype={on:function(e,r){return t.parse(this,e,r,function(e,t){return n(e,"on"+t,r,!0)})},emit:function(e,n){var r=[this];return r.push.apply(r,arguments),t.emit.apply(t,r)}},r}),define("dojo/topic",["./Evented"],function(e){var t=new e;return{publish:function(e,n){return t.emit.apply(t,arguments)},subscribe:function(e,n){return t.on.apply(t,arguments)}}}),define("dojo/_base/window",["./kernel","./lang","../sniff"],function(e,t,n){var r={global:e.global,doc:e.global.document||null,body:function(t){return(t=t||e.doc).body||t.getElementsByTagName("body")[0]},setContext:function(t,n){e.global=r.global=t,e.doc=r.doc=n},withGlobal:function(t,n,o,i){var a=e.global;try{return e.global=r.global=t,r.withDoc.call(null,t.document,n,o,i)}finally{e.global=r.global=a}},withDoc:function(t,o,i,a){var s,u,c,f=r.doc,l=n("quirks"),d=n("ie");try{return e.doc=r.doc=t,e.isQuirks=n.add("quirks","BackCompat"==e.doc.compatMode,!0,!0),n("ie")&&(c=t.parentWindow)&&c.navigator&&(s=parseFloat(c.navigator.appVersion.split("MSIE ")[1])||void 0,(u=t.documentMode)&&5!=u&&Math.floor(s)!=u&&(s=u),e.isIE=n.add("ie",s,!0,!0)),i&&"string"==typeof o&&(o=i[o]),o.apply(i,a||[])}finally{e.doc=r.doc=f,e.isQuirks=n.add("quirks",l,!0,!0),e.isIE=n.add("ie",d,!0,!0)}}};return n("extend-dojo")&&t.mixin(e,r),r}),define("dojo/dom",["./sniff","./_base/window"],function(e,t){if(e("ie")<=7)try{document.execCommand("BackgroundImageCache",!1,!0)}catch(e){}var n={};e("ie")?n.byId=function(e,n){if("string"!=typeof e)return e;var r=n||t.doc,o=e&&r.getElementById(e);if(o&&(o.attributes.id.value==e||o.id==e))return o;var i=r.all[e];i&&!i.nodeName||(i=[i]);for(var a=0;o=i[a++];)if(o.attributes&&o.attributes.id&&o.attributes.id.value==e||o.id==e)return o}:n.byId=function(e,n){return("string"==typeof e?(n||t.doc).getElementById(e):e)||null},n.isDescendant=function(e,t){try{for(e=n.byId(e),t=n.byId(t);e;){if(e==t)return!0;e=e.parentNode}}catch(e){}return!1},e.add("css-user-select",function(e,t,n){if(!n)return!1;var r=n.style,o=["Khtml","O","Moz","Webkit"],i=o.length,a="userSelect";do{if(void 0!==r[a])return a}while(i--&&(a=o[i]+"UserSelect"));return!1});var r=e("css-user-select");return n.setSelectable=r?function(e,t){n.byId(e).style[r]=t?"":"none"}:function(e,t){var r=(e=n.byId(e)).getElementsByTagName("*"),o=r.length;if(t)for(e.removeAttribute("unselectable");o--;)r[o].removeAttribute("unselectable");else for(e.setAttribute("unselectable","on");o--;)r[o].setAttribute("unselectable","on")},n}),define("dojo/dom-style",["./sniff","./dom"],function(e,t){var n,r,o={};n=e("webkit")?function(e){var t;if(1==e.nodeType){var n=e.ownerDocument.defaultView;!(t=n.getComputedStyle(e,null))&&e.style&&(e.style.display="",t=n.getComputedStyle(e,null))}return t||{}}:e("ie")&&(e("ie")<9||e("quirks"))?function(e){return 1==e.nodeType&&e.currentStyle?e.currentStyle:{}}:function(e){return 1==e.nodeType?e.ownerDocument.defaultView.getComputedStyle(e,null):{}},o.getComputedStyle=n,r=e("ie")?function(e,t){if(!t)return 0;if("medium"==t)return 4;if(t.slice&&"px"==t.slice(-2))return parseFloat(t);var n=e.style,r=e.runtimeStyle,o=e.currentStyle,i=n.left,a=r.left;r.left=o.left;try{n.left=t,t=n.pixelLeft}catch(e){t=0}return n.left=i,r.left=a,t}:function(e,t){return parseFloat(t)||0},o.toPixelValue=r;var i="DXImageTransform.Microsoft.Alpha",a=function(e,t){try{return e.filters.item(i)}catch(e){return t?{}:null}},s=e("ie")<9||e("ie")<10&&e("quirks")?function(e){try{return a(e).Opacity/100}catch(e){return 1}}:function(e){return n(e).opacity},u=e("ie")<9||e("ie")<10&&e("quirks")?function(e,t){""===t&&(t=1);var n=100*t,r=1===t;if(r?(e.style.zoom="",a(e)&&(e.style.filter=e.style.filter.replace(new RegExp("\\s*progid:"+i+"\\([^\\)]+?\\)","i"),""))):(e.style.zoom=1,a(e)?a(e,1).Opacity=n:e.style.filter+=" progid:"+i+"(Opacity="+n+")",a(e,1).Enabled=!0),"tr"==e.tagName.toLowerCase())for(var o=e.firstChild;o;o=o.nextSibling)"td"==o.tagName.toLowerCase()&&u(o,t);return t}:function(e,t){return e.style.opacity=t},c={left:!0,top:!0},f=/margin|padding|width|height|max|min|offset/;var l={cssFloat:1,styleFloat:1,float:1};return o.get=function(n,i){var a=t.byId(n),u=arguments.length,d="opacity"==i;if(2==u&&d)return s(a);i=l[i]?"cssFloat"in a.style?"cssFloat":"styleFloat":i;var p=o.getComputedStyle(a);return 1==u?p:function(t,n,o){if(n=n.toLowerCase(),e("ie")||e("trident")){if("auto"==o){if("height"==n)return t.offsetHeight;if("width"==n)return t.offsetWidth}if("fontweight"==n)switch(o){case 700:return"bold";case 400:default:return"normal"}}n in c||(c[n]=f.test(n));return c[n]?r(t,o):o}(a,i,p[i]||a.style[i])},o.set=function(e,n,r){var i=t.byId(e),a=arguments.length,s="opacity"==n;if(n=l[n]?"cssFloat"in i.style?"cssFloat":"styleFloat":n,3==a)return s?u(i,r):i.style[n]=r;for(var c in n)o.set(e,c,n[c]);return o.getComputedStyle(i)},o}),define("dojo/dom-geometry",["./sniff","./_base/window","./dom","./dom-style"],function(e,t,n,r){var o={boxModel:"content-box"};e("ie")&&(o.boxModel="BackCompat"==document.compatMode?"border-box":"content-box"),o.getPadExtents=function(e,t){e=n.byId(e);var o=t||r.getComputedStyle(e),i=r.toPixelValue,a=i(e,o.paddingLeft),s=i(e,o.paddingTop),u=i(e,o.paddingRight),c=i(e,o.paddingBottom);return{l:a,t:s,r:u,b:c,w:a+u,h:s+c}};var i="none";function a(e,t,n,r,o,i){i=i||"px";var a=e.style;isNaN(t)||(a.left=t+i),isNaN(n)||(a.top=n+i),r>=0&&(a.width=r+i),o>=0&&(a.height=o+i)}function s(e){return"button"==e.tagName.toLowerCase()||"input"==e.tagName.toLowerCase()&&"button"==(e.getAttribute("type")||"").toLowerCase()}function u(e){return"border-box"==o.boxModel||"table"==e.tagName.toLowerCase()||s(e)}o.getBorderExtents=function(e,t){e=n.byId(e);var o=r.toPixelValue,a=t||r.getComputedStyle(e),s=a.borderLeftStyle!=i?o(e,a.borderLeftWidth):0,u=a.borderTopStyle!=i?o(e,a.borderTopWidth):0,c=a.borderRightStyle!=i?o(e,a.borderRightWidth):0,f=a.borderBottomStyle!=i?o(e,a.borderBottomWidth):0;return{l:s,t:u,r:c,b:f,w:s+c,h:u+f}},o.getPadBorderExtents=function(e,t){e=n.byId(e);var i=t||r.getComputedStyle(e),a=o.getPadExtents(e,i),s=o.getBorderExtents(e,i);return{l:a.l+s.l,t:a.t+s.t,r:a.r+s.r,b:a.b+s.b,w:a.w+s.w,h:a.h+s.h}},o.getMarginExtents=function(e,t){e=n.byId(e);var o=t||r.getComputedStyle(e),i=r.toPixelValue,a=i(e,o.marginLeft),s=i(e,o.marginTop),u=i(e,o.marginRight),c=i(e,o.marginBottom);return{l:a,t:s,r:u,b:c,w:a+u,h:s+c}},o.getMarginBox=function(t,a){t=n.byId(t);var s,u=a||r.getComputedStyle(t),c=o.getMarginExtents(t,u),f=t.offsetLeft-c.l,l=t.offsetTop-c.t,d=t.parentNode,p=r.toPixelValue;if(e("mozilla")){var h=parseFloat(u.left),g=parseFloat(u.top);isNaN(h)||isNaN(g)?d&&d.style&&"visible"!=(s=r.getComputedStyle(d)).overflow&&(f+=s.borderLeftStyle!=i?p(t,s.borderLeftWidth):0,l+=s.borderTopStyle!=i?p(t,s.borderTopWidth):0):(f=h,l=g)}else(e("opera")||8==e("ie")&&!e("quirks"))&&d&&(s=r.getComputedStyle(d),f-=s.borderLeftStyle!=i?p(t,s.borderLeftWidth):0,l-=s.borderTopStyle!=i?p(t,s.borderTopWidth):0);return{l:f,t:l,w:t.offsetWidth+c.w,h:t.offsetHeight+c.h}},o.getContentBox=function(t,i){t=n.byId(t);var a,s=i||r.getComputedStyle(t),u=t.clientWidth,c=o.getPadExtents(t,s),f=o.getBorderExtents(t,s);return u?(a=t.clientHeight,f.w=f.h=0):(u=t.offsetWidth,a=t.offsetHeight),e("opera")&&(c.l+=f.l,c.t+=f.t),{l:c.l,t:c.t,w:u-c.w-f.w,h:a-c.h-f.h}},o.setContentSize=function(e,t,r){e=n.byId(e);var i=t.w,s=t.h;if(u(e)){var c=o.getPadBorderExtents(e,r);i>=0&&(i+=c.w),s>=0&&(s+=c.h)}a(e,NaN,NaN,i,s)};var c={l:0,t:0,w:0,h:0};return o.setMarginBox=function(t,i,f){t=n.byId(t);var l=f||r.getComputedStyle(t),d=i.w,p=i.h,h=u(t)?c:o.getPadBorderExtents(t,l),g=o.getMarginExtents(t,l);if(e("webkit")&&s(t)){var v=t.style;d>=0&&!v.width&&(v.width="4px"),p>=0&&!v.height&&(v.height="4px")}d>=0&&(d=Math.max(d-h.w-g.w,0)),p>=0&&(p=Math.max(p-h.h-g.h,0)),a(t,i.l,i.t,d,p)},o.isBodyLtr=function(e){return e=e||t.doc,"ltr"==(t.body(e).dir||e.documentElement.dir||"ltr").toLowerCase()},o.docScroll=function(n){n=n||t.doc;var r=t.doc.parentWindow||t.doc.defaultView;return"pageXOffset"in r?{x:r.pageXOffset,y:r.pageYOffset}:(r=e("quirks")?t.body(n):n.documentElement)&&{x:o.fixIeBiDiScrollLeft(r.scrollLeft||0,n),y:r.scrollTop||0}},e("ie")&&(o.getIeDocumentElementOffset=function(n){var r=(n=n||t.doc).documentElement;if(e("ie")<8){var o=r.getBoundingClientRect(),i=o.left,a=o.top;return e("ie")<7&&(i+=r.clientLeft,a+=r.clientTop),{x:i<0?0:i,y:a<0?0:a}}return{x:0,y:0}}),o.fixIeBiDiScrollLeft=function(n,r){r=r||t.doc;var i=e("ie");if(i&&!o.isBodyLtr(r)){var a=e("quirks"),s=a?t.body(r):r.documentElement,u=t.global;return 6==i&&!a&&u.frameElement&&s.scrollHeight>s.clientHeight&&(n+=s.clientLeft),i<8||a?n+s.clientWidth-s.scrollWidth:-n}return n},o.position=function(r,i){r=n.byId(r);var a=t.body(r.ownerDocument),s=r.getBoundingClientRect();if(s={x:s.left,y:s.top,w:s.right-s.left,h:s.bottom-s.top},e("ie")<9){var u=o.getIeDocumentElementOffset(r.ownerDocument);s.x-=u.x+(e("quirks")?a.clientLeft+a.offsetLeft:0),s.y-=u.y+(e("quirks")?a.clientTop+a.offsetTop:0)}if(i){var c=o.docScroll(r.ownerDocument);s.x+=c.x,s.y+=c.y}return s},o.getMarginSize=function(e,t){e=n.byId(e);var i=o.getMarginExtents(e,t||r.getComputedStyle(e)),a=e.getBoundingClientRect();return{w:a.right-a.left+i.w,h:a.bottom-a.top+i.h}},o.normalizeEvent=function(t){if("layerX"in t||(t.layerX=t.offsetX,t.layerY=t.offsetY),!e("dom-addeventlistener")){var n=t.target,r=n&&n.ownerDocument||document,i=e("quirks")?r.body:r.documentElement,a=o.getIeDocumentElementOffset(r);t.pageX=t.clientX+o.fixIeBiDiScrollLeft(i.scrollLeft||0,r)-a.x,t.pageY=t.clientY+(i.scrollTop||0)-a.y}},o}),define("dojo/_base/event",["./kernel","../on","../has","../dom-geometry"],function(e,t,n,r){if(t._fixEvent){var o=t._fixEvent;t._fixEvent=function(e,t){return(e=o(e,t))&&r.normalizeEvent(e),e}}var i={fix:function(e,n){return t._fixEvent?t._fixEvent(e,n):e},stop:function(e){n("dom-addeventlistener")||e&&e.preventDefault?(e.preventDefault(),e.stopPropagation()):((e=e||window.event).cancelBubble=!0,t._preventDefault.call(e))}};return n("extend-dojo")&&(e.fixEvent=i.fix,e.stopEvent=i.stop),i}),define("dojo/mouse",["./_base/kernel","./on","./has","./dom","./_base/window"],function(e,t,n,r,o){var i,a;function s(e,n){var o=function(o,i){return t(o,e,function(e){return n?n(e,i):r.isDescendant(e.relatedTarget,o)?void 0:i.call(this,e)})};return o.bubble=function(t){return s(e,function(e,n){var r=t(e.target),o=e.relatedTarget;if(r&&r!=(o&&1==o.nodeType&&t(o)))return n.call(r,e)})},o}return n.add("dom-quirks",o.doc&&"BackCompat"==o.doc.compatMode),n.add("events-mouseenter",o.doc&&"onmouseenter"in o.doc.createElement("div")),n.add("events-mousewheel",o.doc&&"onmousewheel"in o.doc),i=n("dom-quirks")&&n("ie")||!n("dom-addeventlistener")?{LEFT:1,MIDDLE:4,RIGHT:2,isButton:function(e,t){return e.button&t},isLeft:function(e){return 1&e.button},isMiddle:function(e){return 4&e.button},isRight:function(e){return 2&e.button}}:{LEFT:0,MIDDLE:1,RIGHT:2,isButton:function(e,t){return e.button==t},isLeft:function(e){return 0==e.button},isMiddle:function(e){return 1==e.button},isRight:function(e){return 2==e.button}},e.mouseButtons=i,a=n("events-mousewheel")?"mousewheel":function(e,n){return t(e,"DOMMouseScroll",function(e){e.wheelDelta=-e.detail,n.call(this,e)})},{_eventHandler:s,enter:s("mouseover"),leave:s("mouseout"),wheel:a,isLeft:i.isLeft,isMiddle:i.isMiddle,isRight:i.isRight}}),define("dojo/_base/sniff",["./kernel","./lang","../sniff"],function(e,t,n){return n("host-browser")?(e._name="browser",t.mixin(e,{isBrowser:!0,isFF:n("ff"),isIE:n("ie"),isKhtml:n("khtml"),isWebKit:n("webkit"),isMozilla:n("mozilla"),isMoz:n("mozilla"),isOpera:n("opera"),isSafari:n("safari"),isChrome:n("chrome"),isMac:n("mac"),isIos:n("ios"),isAndroid:n("android"),isWii:n("wii"),isQuirks:n("quirks"),isAir:n("air")}),n):n}),define("dojo/keys",["./_base/kernel","./sniff"],function(e,t){return e.keys={BACKSPACE:8,TAB:9,CLEAR:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,META:t("webkit")?91:224,PAUSE:19,CAPS_LOCK:20,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,INSERT:45,DELETE:46,HELP:47,LEFT_WINDOW:91,RIGHT_WINDOW:92,SELECT:93,NUMPAD_0:96,NUMPAD_1:97,NUMPAD_2:98,NUMPAD_3:99,NUMPAD_4:100,NUMPAD_5:101,NUMPAD_6:102,NUMPAD_7:103,NUMPAD_8:104,NUMPAD_9:105,NUMPAD_MULTIPLY:106,NUMPAD_PLUS:107,NUMPAD_ENTER:108,NUMPAD_MINUS:109,NUMPAD_PERIOD:110,NUMPAD_DIVIDE:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,NUM_LOCK:144,SCROLL_LOCK:145,UP_DPAD:175,DOWN_DPAD:176,LEFT_DPAD:177,RIGHT_DPAD:178,copyKey:t("mac")&&!t("air")?t("safari")?91:224:17}}),define("dojo/_base/connect",["./kernel","../on","../topic","../aspect","./event","../mouse","./sniff","./lang","../keys"],function(e,t,n,r,o,i,a,s){a.add("events-keypress-typed",function(){var e={charCode:0};try{((e=document.createEvent("KeyboardEvent")).initKeyboardEvent||e.initKeyEvent).call(e,"keypress",!0,!0,null,!1,!1,!1,!1,9,3)}catch(e){}return 0==e.charCode&&!a("opera")});var u,c={106:42,111:47,186:59,187:43,188:44,189:45,190:46,191:47,192:96,219:91,220:92,221:93,222:39,229:113},f=a("mac")?"metaKey":"ctrlKey",l=function(e,t){var n=s.mixin({},e,t);return d(n),n.preventDefault=function(){e.preventDefault()},n.stopPropagation=function(){e.stopPropagation()},n};function d(e){e.keyChar=e.charCode?String.fromCharCode(e.charCode):"",e.charOrCode=e.keyChar||e.keyCode}if(a("events-keypress-typed")){u=function(e,n){var r=t(e,"keydown",function(e){var t=e.keyCode,r=13!=t&&32!=t&&(27!=t||!a("ie"))&&(t<48||t>90)&&(t<96||t>111)&&(t<186||t>192)&&(t<219||t>222)&&229!=t;if(r||e.ctrlKey){var o=r?0:t;if(e.ctrlKey){if(3==t||13==t)return n.call(e.currentTarget,e);o>95&&o<106?o-=48:!e.shiftKey&&o>=65&&o<=90?o+=32:o=c[o]||o}var i=l(e,{type:"keypress",faux:!0,charCode:o});n.call(e.currentTarget,i),a("ie")&&function(e,t){try{e.keyCode=t}catch(e){return 0}}(e,i.keyCode)}}),o=t(e,"keypress",function(e){var t=e.charCode;return e=l(e,{charCode:t=t>=32?t:0,faux:!0}),n.call(this,e)});return{remove:function(){r.remove(),o.remove()}}}}else u=a("opera")?function(e,n){return t(e,"keypress",function(e){var t=e.which;return 3==t&&(t=99),t=t<32&&!e.shiftKey?0:t,e.ctrlKey&&!e.shiftKey&&t>=65&&t<=90&&(t+=32),n.call(this,l(e,{charCode:t}))})}:function(e,n){return t(e,"keypress",function(e){return d(e),n.call(this,e)})};var p={_keypress:u,connect:function(n,o,a,c,f){var l=arguments,d=[],p=0;d.push("string"==typeof l[0]?null:l[p++],l[p++]);var h=l[p+1];d.push("string"==typeof h||"function"==typeof h?l[p++]:null,l[p++]);for(var g=l.length;p<g;p++)d.push(l[p]);return function(n,o,a,c,f){if(c=s.hitch(a,c),!n||!n.addEventListener&&!n.attachEvent)return r.after(n||e.global,o,c,!0);"string"==typeof o&&"on"==o.substring(0,2)&&(o=o.substring(2));n||(n=e.global);if(!f)switch(o){case"keypress":o=u;break;case"mouseenter":o=i.enter;break;case"mouseleave":o=i.leave}return t(n,o,c,f)}.apply(this,d)},disconnect:function(e){e&&e.remove()},subscribe:function(e,t,r){return n.subscribe(e,s.hitch(t,r))},publish:function(e,t){return n.publish.apply(n,[e].concat(t))},connectPublisher:function(e,t,n){var r=function(){p.publish(e,arguments)};return n?p.connect(t,n,r):p.connect(t,r)},isCopyKey:function(e){return e[f]}};return p.unsubscribe=p.disconnect,a("extend-dojo")&&s.mixin(e,p),p}),define("dojo/errors/create",["../_base/lang"],function(e){return function(t,n,r,o){r=r||Error;var i=function(e){if(r===Error){Error.captureStackTrace&&Error.captureStackTrace(this,i);var t,o=Error.call(this,e);for(t in o)o.hasOwnProperty(t)&&(this[t]=o[t]);this.message=e,this.stack=o.stack}else r.apply(this,arguments);n&&n.apply(this,arguments)};return i.prototype=e.delegate(r.prototype,o),i.prototype.name=t,i.prototype.constructor=i,i}}),define("dojo/errors/CancelError",["./create"],function(e){return e("CancelError",null,null,{dojoType:"cancel"})}),define("dojo/promise/Promise",["../_base/lang"],function(e){"use strict";function t(){throw new TypeError("abstract")}return e.extend(function(){},{then:function(e,n,r){t()},cancel:function(e,n){t()},isResolved:function(){t()},isRejected:function(){t()},isFulfilled:function(){t()},isCanceled:function(){t()},always:function(e){return this.then(e,e)},otherwise:function(e){return this.then(null,e)},trace:function(){return this},traceRejected:function(){return this},toString:function(){return"[object Promise]"}})}),define("dojo/Deferred",["./has","./_base/lang","./errors/CancelError","./promise/Promise","./has!config-deferredInstrumentation?./promise/instrumentation"],function(e,t,n,r,o){"use strict";var i="This deferred has already been fulfilled.",a=Object.freeze||function(){},s=function(t,n,r,o,i){e("config-deferredInstrumentation")&&2===n&&l.instrumentRejected&&0===t.length&&l.instrumentRejected(r,!1,o,i);for(var a=0;a<t.length;a++)u(t[a],n,r,o)},u=function(t,n,r,o){var i=t[n],a=t.deferred;if(i)try{var s=i(r);if(0===n)void 0!==s&&f(a,n,s);else{if(s&&"function"==typeof s.then)return t.cancel=s.cancel,void s.then(c(a,1),c(a,2),c(a,0));f(a,1,s)}}catch(e){f(a,2,e)}else f(a,n,r);e("config-deferredInstrumentation")&&2===n&&l.instrumentRejected&&l.instrumentRejected(r,!!i,o,a.promise)},c=function(e,t){return function(n){f(e,t,n)}},f=function(e,t,n){if(!e.isCanceled())switch(t){case 0:e.progress(n);break;case 1:e.resolve(n);break;case 2:e.reject(n)}},l=function(t){var o,c,f,d=this.promise=new r,p=this,h=!1,g=[];e("config-deferredInstrumentation")&&Error.captureStackTrace&&(Error.captureStackTrace(p,l),Error.captureStackTrace(d,l)),this.isResolved=d.isResolved=function(){return 1===o},this.isRejected=d.isRejected=function(){return 2===o},this.isFulfilled=d.isFulfilled=function(){return!!o},this.isCanceled=d.isCanceled=function(){return h},this.progress=function(e,t){if(o){if(!0===t)throw new Error(i);return d}return s(g,0,e,null,p),d},this.resolve=function(e,t){if(o){if(!0===t)throw new Error(i);return d}return s(g,o=1,c=e,null,p),g=null,d};var v=this.reject=function(t,n){if(o){if(!0===n)throw new Error(i);return d}return e("config-deferredInstrumentation")&&Error.captureStackTrace&&Error.captureStackTrace(f={},v),s(g,o=2,c=t,f,p),g=null,d};this.then=d.then=function(e,t,n){var r=[n,e,t];return r.cancel=d.cancel,r.deferred=new l(function(e){return r.cancel&&r.cancel(e)}),o&&!g?u(r,o,c,f):g.push(r),r.deferred.promise},this.cancel=d.cancel=function(e,r){if(o){if(!0===r)throw new Error(i)}else{if(t){var a=t(e);e=void 0===a?e:a}if(h=!0,!o)return void 0===e&&(e=new n),v(e),e;if(2===o&&c===e)return e}},a(d)};return l.prototype.toString=function(){return"[object Deferred]"},o&&o(l),l}),define("dojo/when",["./Deferred","./promise/Promise"],function(e,t){"use strict";return function(n,r,o,i){var a=n&&"function"==typeof n.then,s=a&&n instanceof t;if(!a)return arguments.length>1?r?r(n):n:(new e).resolve(n);if(!s){var u=new e(n.cancel);n.then(u.resolve,u.reject,u.progress),n=u.promise}return r||o||i?n.then(r,o,i):n}}),define("dojo/_base/Deferred",["./kernel","../Deferred","../promise/Promise","../errors/CancelError","../has","./lang","../when"],function(e,t,n,r,o,i,a){var s=function(){},u=Object.freeze||function(){},c=e.Deferred=function(e){var a,f,l,d,p,h,g,v=this.promise=new n;function m(e){if(f)throw new Error("This deferred has already been resolved");a=e,f=!0,y()}function y(){for(var e;!e&&g;){var n=g;g=g.next,(e=n.progress==s)&&(f=!1);var r=p?n.error:n.resolved;if(o("config-useDeferredInstrumentation")&&p&&t.instrumentRejected&&t.instrumentRejected(a,!!r),r)try{var u=r(a);if(u&&"function"==typeof u.then){u.then(i.hitch(n.deferred,"resolve"),i.hitch(n.deferred,"reject"),i.hitch(n.deferred,"progress"));continue}var c=e&&void 0===u;e&&!c&&(p=u instanceof Error),n.deferred[c&&p?"reject":"resolve"](c?a:u)}catch(e){n.deferred.reject(e)}else p?n.deferred.reject(a):n.deferred.resolve(a)}}this.isResolved=v.isResolved=function(){return 0==d},this.isRejected=v.isRejected=function(){return 1==d},this.isFulfilled=v.isFulfilled=function(){return d>=0},this.isCanceled=v.isCanceled=function(){return l},this.resolve=this.callback=function(e){this.fired=d=0,this.results=[e,null],m(e)},this.reject=this.errback=function(e){p=!0,this.fired=d=1,o("config-useDeferredInstrumentation")&&t.instrumentRejected&&t.instrumentRejected(e,!!g),m(e),this.results=[null,e]},this.progress=function(e){for(var t=g;t;){var n=t.progress;n&&n(e),t=t.next}},this.addCallbacks=function(e,t){return this.then(e,t,s),this},v.then=this.then=function(e,t,n){var r=n==s?this:new c(v.cancel),o={resolved:e,error:t,progress:n,deferred:r};return g?h=h.next=o:g=h=o,f&&y(),r.promise};var b=this;v.cancel=this.cancel=function(){if(!f){var t=e&&e(b);f||(t instanceof Error||(t=new r(t)),t.log=!1,b.reject(t))}l=!0},u(v)};return i.extend(c,{addCallback:function(t){return this.addCallbacks(i.hitch.apply(e,arguments))},addErrback:function(t){return this.addCallbacks(null,i.hitch.apply(e,arguments))},addBoth:function(t){var n=i.hitch.apply(e,arguments);return this.addCallbacks(n,n)},fired:-1}),c.when=e.when=a,c}),define("dojo/json",["./has"],function(has){"use strict";var hasJSON="undefined"!=typeof JSON;if(has.add("json-parse",hasJSON),has.add("json-stringify",hasJSON&&'{"a":1}'==JSON.stringify({a:0},function(e,t){return t||1})),has("json-stringify"))return JSON;var escapeString=function(e){return('"'+e.replace(/(["\\])/g,"\\$1")+'"').replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r")};return{parse:has("json-parse")?JSON.parse:function(str,strict){if(strict&&!/^([\s\[\{]*(?:"(?:\\.|[^"])*"|-?\d[\d\.]*(?:[Ee][+-]?\d+)?|null|true|false|)[\s\]\}]*(?:,|:|$))+$/.test(str))throw new SyntaxError("Invalid characters in JSON");return eval("("+str+")")},stringify:function(e,t,n){var r;return"string"==typeof t&&(n=t,t=null),function e(o,i,a){t&&(o=t(a,o));var s,u=typeof o;if("number"==u)return isFinite(o)?o+"":"null";if("boolean"==u)return o+"";if(null===o)return"null";if("string"==typeof o)return escapeString(o);if("function"==u||"undefined"==u)return r;if("function"==typeof o.toJSON)return e(o.toJSON(a),i,a);if(o instanceof Date)return'"{FullYear}-{Month+}-{Date}T{Hours}:{Minutes}:{Seconds}Z"'.replace(/\{(\w+)(\+)?\}/g,function(e,t,n){var r=o["getUTC"+t]()+(n?1:0);return r<10?"0"+r:r});if(o.valueOf()!==o)return e(o.valueOf(),i,a);var c=n?i+n:"";var f=n?" ":"";var l=n?"\n":"";if(o instanceof Array){var d=o.length,p=[];for(a=0;a<d;a++){var h=o[a];"string"!=typeof(s=e(h,c,a))&&(s="null"),p.push(l+c+s)}return"["+p.join(",")+l+i+"]"}var g=[];for(a in o){var v;if(o.hasOwnProperty(a)){if("number"==typeof a)v='"'+a+'"';else{if("string"!=typeof a)continue;v=escapeString(a)}if("string"!=typeof(s=e(o[a],c,a)))continue;g.push(l+c+v+":"+f+s)}}return"{"+g.join(",")+l+i+"}"}(e,"","")}}}),define("dojo/_base/json",["./kernel","../json"],function(dojo,json){return dojo.fromJson=function(js){return eval("("+js+")")},dojo._escapeString=json.stringify,dojo.toJsonIndentStr="\t",dojo.toJson=function(e,t){return json.stringify(e,function(e,t){if(t){var n=t.__json__||t.json;if("function"==typeof n)return n.call(t)}return t},t&&dojo.toJsonIndentStr)},dojo}),define("dojo/_base/Color",["./kernel","./lang","./array","./config"],function(e,t,n,r){var o=e.Color=function(e){e&&this.setColor(e)};return o.named={black:[0,0,0],silver:[192,192,192],gray:[128,128,128],white:[255,255,255],maroon:[128,0,0],red:[255,0,0],purple:[128,0,128],fuchsia:[255,0,255],green:[0,128,0],lime:[0,255,0],olive:[128,128,0],yellow:[255,255,0],navy:[0,0,128],blue:[0,0,255],teal:[0,128,128],aqua:[0,255,255],transparent:r.transparentColor||[0,0,0,0]},t.extend(o,{r:255,g:255,b:255,a:1,_set:function(e,t,n,r){var o=this;o.r=e,o.g=t,o.b=n,o.a=r},setColor:function(e){return t.isString(e)?o.fromString(e,this):t.isArray(e)?o.fromArray(e,this):(this._set(e.r,e.g,e.b,e.a),e instanceof o||this.sanitize()),this},sanitize:function(){return this},toRgb:function(){var e=this;return[e.r,e.g,e.b]},toRgba:function(){var e=this;return[e.r,e.g,e.b,e.a]},toHex:function(){var e=n.map(["r","g","b"],function(e){var t=this[e].toString(16);return t.length<2?"0"+t:t},this);return"#"+e.join("")},toCss:function(e){var t=this,n=t.r+", "+t.g+", "+t.b;return(e?"rgba("+n+", "+t.a:"rgb("+n)+")"},toString:function(){return this.toCss(!0)}}),o.blendColors=e.blendColors=function(e,t,r,i){var a=i||new o;return n.forEach(["r","g","b","a"],function(n){a[n]=e[n]+(t[n]-e[n])*r,"a"!=n&&(a[n]=Math.round(a[n]))}),a.sanitize()},o.fromRgb=e.colorFromRgb=function(e,t){var n=e.toLowerCase().match(/^rgba?\(([\s\.,0-9]+)\)/);return n&&o.fromArray(n[1].split(/\s*,\s*/),t)},o.fromHex=e.colorFromHex=function(e,t){var r=t||new o,i=4==e.length?4:8,a=(1<<i)-1;return e=Number("0x"+e.substr(1)),isNaN(e)?null:(n.forEach(["b","g","r"],function(t){var n=e&a;e>>=i,r[t]=4==i?17*n:n}),r.a=1,r)},o.fromArray=e.colorFromArray=function(e,t){var n=t||new o;return n._set(Number(e[0]),Number(e[1]),Number(e[2]),Number(e[3])),isNaN(n.a)&&(n.a=1),n.sanitize()},o.fromString=e.colorFromString=function(e,t){var n=o.named[e];return n&&o.fromArray(n,t)||o.fromRgb(e,t)||o.fromHex(e,t)},o}),define("dojo/main",["./_base/kernel","./has","require","./sniff","./_base/lang","./_base/array","./_base/config","./ready","./_base/declare","./_base/connect","./_base/Deferred","./_base/json","./_base/Color","./has!dojo-firebug?./_firebug/firebug","./has!host-browser?./_base/browser","./has!dojo-sync-loader?./_base/loader"],function(e,t,n,r,o,i,a,s){if(a.isDebug&&n(["./_firebug/firebug"]),t.add("dojo-config-require",1),t("dojo-config-require")){var u=a.require;u&&(u=i.map(o.isArray(u)?u:[u],function(e){return e.replace(/\./g,"/")}),e.isAsync?n(u):s(1,function(){n(u)}))}return e}),define("dojo",["dojo/main"],function(e){return e})}(define,require),!isAmd){var skylarkjs=require("skylark-langx/skylark");isCmd?module.exports=skylarkjs:globals.skylarkjs=skylarkjs}}(0,this);
//# sourceMappingURL=sourcemaps/dojo-all.js.map
