/**
 * dojo - A version of dojo.js framework that ported to running on skylarkjs.
 * @author Hudaokeji, Inc.
 * @version v0.9.0
 * @link https://github.com/skylark-integration/dojo/
 * @license MIT
 */
define(["./sniff","./_base/window","./dom","./dom-style"],function(t,e,o,r){var n={boxModel:"content-box"};t("ie")&&(n.boxModel="BackCompat"==document.compatMode?"border-box":"content-box"),n.getPadExtents=function(t,e){t=o.byId(t);var n=e||r.getComputedStyle(t),i=r.toPixelValue,l=i(t,n.paddingLeft),d=i(t,n.paddingTop),a=i(t,n.paddingRight),f=i(t,n.paddingBottom);return{l:l,t:d,r:a,b:f,w:l+a,h:d+f}};var i="none";function l(t,e,o,r,n,i){i=i||"px";var l=t.style;isNaN(e)||(l.left=e+i),isNaN(o)||(l.top=o+i),r>=0&&(l.width=r+i),n>=0&&(l.height=n+i)}function d(t){return"button"==t.tagName.toLowerCase()||"input"==t.tagName.toLowerCase()&&"button"==(t.getAttribute("type")||"").toLowerCase()}function a(t){return"border-box"==n.boxModel||"table"==t.tagName.toLowerCase()||d(t)}n.getBorderExtents=function(t,e){t=o.byId(t);var n=r.toPixelValue,l=e||r.getComputedStyle(t),d=l.borderLeftStyle!=i?n(t,l.borderLeftWidth):0,a=l.borderTopStyle!=i?n(t,l.borderTopWidth):0,f=l.borderRightStyle!=i?n(t,l.borderRightWidth):0,u=l.borderBottomStyle!=i?n(t,l.borderBottomWidth):0;return{l:d,t:a,r:f,b:u,w:d+f,h:a+u}},n.getPadBorderExtents=function(t,e){t=o.byId(t);var i=e||r.getComputedStyle(t),l=n.getPadExtents(t,i),d=n.getBorderExtents(t,i);return{l:l.l+d.l,t:l.t+d.t,r:l.r+d.r,b:l.b+d.b,w:l.w+d.w,h:l.h+d.h}},n.getMarginExtents=function(t,e){t=o.byId(t);var n=e||r.getComputedStyle(t),i=r.toPixelValue,l=i(t,n.marginLeft),d=i(t,n.marginTop),a=i(t,n.marginRight),f=i(t,n.marginBottom);return{l:l,t:d,r:a,b:f,w:l+a,h:d+f}},n.getMarginBox=function(e,l){e=o.byId(e);var d,a=l||r.getComputedStyle(e),f=n.getMarginExtents(e,a),u=e.offsetLeft-f.l,g=e.offsetTop-f.t,c=e.parentNode,s=r.toPixelValue;if(t("mozilla")){var b=parseFloat(a.left),h=parseFloat(a.top);isNaN(b)||isNaN(h)?c&&c.style&&"visible"!=(d=r.getComputedStyle(c)).overflow&&(u+=d.borderLeftStyle!=i?s(e,d.borderLeftWidth):0,g+=d.borderTopStyle!=i?s(e,d.borderTopWidth):0):(u=b,g=h)}else(t("opera")||8==t("ie")&&!t("quirks"))&&c&&(u-=(d=r.getComputedStyle(c)).borderLeftStyle!=i?s(e,d.borderLeftWidth):0,g-=d.borderTopStyle!=i?s(e,d.borderTopWidth):0);return{l:u,t:g,w:e.offsetWidth+f.w,h:e.offsetHeight+f.h}},n.getContentBox=function(e,i){e=o.byId(e);var l,d=i||r.getComputedStyle(e),a=e.clientWidth,f=n.getPadExtents(e,d),u=n.getBorderExtents(e,d);return a?(l=e.clientHeight,u.w=u.h=0):(a=e.offsetWidth,l=e.offsetHeight),t("opera")&&(f.l+=u.l,f.t+=u.t),{l:f.l,t:f.t,w:a-f.w-u.w,h:l-f.h-u.h}},n.setContentSize=function(t,e,r){t=o.byId(t);var i=e.w,d=e.h;if(a(t)){var f=n.getPadBorderExtents(t,r);i>=0&&(i+=f.w),d>=0&&(d+=f.h)}l(t,NaN,NaN,i,d)};var f={l:0,t:0,w:0,h:0};return n.setMarginBox=function(e,i,u){e=o.byId(e);var g=u||r.getComputedStyle(e),c=i.w,s=i.h,b=a(e)?f:n.getPadBorderExtents(e,g),h=n.getMarginExtents(e,g);if(t("webkit")&&d(e)){var m=e.style;c>=0&&!m.width&&(m.width="4px"),s>=0&&!m.height&&(m.height="4px")}c>=0&&(c=Math.max(c-b.w-h.w,0)),s>=0&&(s=Math.max(s-b.h-h.h,0)),l(e,i.l,i.t,c,s)},n.isBodyLtr=function(t){return t=t||e.doc,"ltr"==(e.body(t).dir||t.documentElement.dir||"ltr").toLowerCase()},n.docScroll=function(o){o=o||e.doc;var r=e.doc.parentWindow||e.doc.defaultView;return"pageXOffset"in r?{x:r.pageXOffset,y:r.pageYOffset}:(r=t("quirks")?e.body(o):o.documentElement)&&{x:n.fixIeBiDiScrollLeft(r.scrollLeft||0,o),y:r.scrollTop||0}},t("ie")&&(n.getIeDocumentElementOffset=function(o){var r=(o=o||e.doc).documentElement;if(t("ie")<8){var n=r.getBoundingClientRect(),i=n.left,l=n.top;return t("ie")<7&&(i+=r.clientLeft,l+=r.clientTop),{x:i<0?0:i,y:l<0?0:l}}return{x:0,y:0}}),n.fixIeBiDiScrollLeft=function(o,r){r=r||e.doc;var i=t("ie");if(i&&!n.isBodyLtr(r)){var l=t("quirks"),d=l?e.body(r):r.documentElement,a=e.global;return 6==i&&!l&&a.frameElement&&d.scrollHeight>d.clientHeight&&(o+=d.clientLeft),i<8||l?o+d.clientWidth-d.scrollWidth:-o}return o},n.position=function(r,i){r=o.byId(r);var l=e.body(r.ownerDocument),d=r.getBoundingClientRect();if(d={x:d.left,y:d.top,w:d.right-d.left,h:d.bottom-d.top},t("ie")<9){var a=n.getIeDocumentElementOffset(r.ownerDocument);d.x-=a.x+(t("quirks")?l.clientLeft+l.offsetLeft:0),d.y-=a.y+(t("quirks")?l.clientTop+l.offsetTop:0)}if(i){var f=n.docScroll(r.ownerDocument);d.x+=f.x,d.y+=f.y}return d},n.getMarginSize=function(t,e){t=o.byId(t);var i=n.getMarginExtents(t,e||r.getComputedStyle(t)),l=t.getBoundingClientRect();return{w:l.right-l.left+i.w,h:l.bottom-l.top+i.h}},n.normalizeEvent=function(e){if("layerX"in e||(e.layerX=e.offsetX,e.layerY=e.offsetY),!t("dom-addeventlistener")){var o=e.target,r=o&&o.ownerDocument||document,i=t("quirks")?r.body:r.documentElement,l=n.getIeDocumentElementOffset(r);e.pageX=e.clientX+n.fixIeBiDiScrollLeft(i.scrollLeft||0,r)-l.x,e.pageY=e.clientY+(i.scrollTop||0)-l.y}},n});
//# sourceMappingURL=sourcemaps/dom-geometry.js.map
