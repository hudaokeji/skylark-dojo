/**
 * dojo - A version of dojo.js framework that ported to running on skylarkjs.
 * @author Hudaokeji, Inc.
 * @version v0.9.0
 * @link https://github.com/skylark-integration/dojo/
 * @license MIT
 */
define(["../_base/lang","../sniff","../_base/window","../dom-geometry","../dom-style","../window"],function(o,e,t,l,r,a){var exports={};o.setObject("dojo.dnd.autoscroll",exports),exports.getViewport=a.getBox,exports.V_TRIGGER_AUTOSCROLL=32,exports.H_TRIGGER_AUTOSCROLL=32,exports.V_AUTOSCROLL_VALUE=16,exports.H_AUTOSCROLL_VALUE=16;var L,i=t.doc,n=1/0,_=1/0;return exports.autoScrollStart=function(o){i=o,L=a.getBox(i);var e=t.body(i).parentNode;n=Math.max(e.scrollHeight-L.h,0),_=Math.max(e.scrollWidth-L.w,0)},exports.autoScroll=function(o){var e=L||a.getBox(i),l=t.body(i).parentNode,r=0,O=0;o.clientX<exports.H_TRIGGER_AUTOSCROLL?r=-exports.H_AUTOSCROLL_VALUE:o.clientX>e.w-exports.H_TRIGGER_AUTOSCROLL&&(r=Math.min(exports.H_AUTOSCROLL_VALUE,_-l.scrollLeft)),o.clientY<exports.V_TRIGGER_AUTOSCROLL?O=-exports.V_AUTOSCROLL_VALUE:o.clientY>e.h-exports.V_TRIGGER_AUTOSCROLL&&(O=Math.min(exports.V_AUTOSCROLL_VALUE,n-l.scrollTop)),window.scrollBy(r,O)},exports._validNodes={div:1,p:1,td:1},exports._validOverflow={auto:1,scroll:1},exports.autoScrollNodes=function(o){for(var a,L,i,n,_,O,c=0,d=0,R=o.target;R;){if(1==R.nodeType&&R.tagName.toLowerCase()in exports._validNodes){var s=r.getComputedStyle(R),T=s.overflow.toLowerCase()in exports._validOverflow,w=s.overflowX.toLowerCase()in exports._validOverflow,f=s.overflowY.toLowerCase()in exports._validOverflow;if((T||w||f)&&(a=l.getContentBox(R,s),L=l.position(R,!0)),(T||w)&&(i=Math.min(exports.H_TRIGGER_AUTOSCROLL,a.w/2),_=o.pageX-L.x,(e("webkit")||e("opera"))&&(_+=t.body().scrollLeft),c=0,_>0&&_<a.w&&(_<i?c=-i:_>a.w-i&&(c=i),R.scrollLeft,R.scrollLeft=R.scrollLeft+c)),(T||f)&&(n=Math.min(exports.V_TRIGGER_AUTOSCROLL,a.h/2),O=o.pageY-L.y,(e("webkit")||e("opera"))&&(O+=t.body().scrollTop),d=0,O>0&&O<a.h&&(O<n?d=-n:O>a.h-n&&(d=n),R.scrollTop,R.scrollTop=R.scrollTop+d)),c||d)return}try{R=R.parentNode}catch(o){R=null}}exports.autoScroll(o)},exports});
//# sourceMappingURL=../sourcemaps/dnd/autoscroll.js.map
