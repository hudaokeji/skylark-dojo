{"version":3,"sources":["mouse.js"],"names":["define","dojo","on","has","dom","win","mouseButtons","wheel","eventHandler","type","selectHandler","handler","node","listener","evt","isDescendant","relatedTarget","call","this","bubble","select","target","nodeType","add","doc","compatMode","createElement","LEFT","MIDDLE","RIGHT","isButton","e","button","isLeft","isMiddle","isRight","wheelDelta","detail","_eventHandler","enter","leave"],"mappings":";;;;;;;AAAAA,QAAQ,iBAAkB,OAAQ,QAAS,QAAS,kBAAmB,SAASC,EAAMC,EAAIC,EAAKC,EAAKC,GASnG,IAAIC,EA+FAC,EAxBJ,SAASC,EAAaC,EAAMC,GAE3B,IAAIC,EAAU,SAASC,EAAMC,GAC5B,OAAOX,EAAGU,EAAMH,EAAM,SAASK,GAC9B,OAAGJ,EACKA,EAAcI,EAAKD,GAEvBT,EAAIW,aAAaD,EAAIE,cAAeJ,QAAxC,EACQC,EAASI,KAAKC,KAAMJ,MAc9B,OAVAH,EAAQQ,OAAS,SAASC,GACzB,OAAOZ,EAAaC,EAAM,SAASK,EAAKD,GAEvC,IAAIQ,EAASD,EAAON,EAAIO,QACpBL,EAAgBF,EAAIE,cACxB,GAAGK,GAAWA,IAAWL,GAA2C,GAA1BA,EAAcM,UAAiBF,EAAOJ,IAC/E,OAAOH,EAASI,KAAKI,EAAQP,MAIzBH,EAaR,OA9GGR,EAAIoB,IAAI,aAAclB,EAAImB,KAA6B,cAAtBnB,EAAImB,IAAIC,YAC5CtB,EAAIoB,IAAI,oBAAqBlB,EAAImB,KAAO,iBAAkBnB,EAAImB,IAAIE,cAAc,QAChFvB,EAAIoB,IAAI,oBAAqBlB,EAAImB,KAAO,iBAAkBnB,EAAImB,KAI7DlB,EADGH,EAAI,eAAiBA,EAAI,QAAWA,EAAI,yBAE1CwB,KAAQ,EACRC,OAAQ,EACRC,MAAQ,EAERC,SAAU,SAASC,EAAGC,GAAS,OAAOD,EAAEC,OAASA,GACjDC,OAAU,SAASF,GAAI,OAAkB,EAAXA,EAAEC,QAChCE,SAAU,SAASH,GAAI,OAAkB,EAAXA,EAAEC,QAChCG,QAAU,SAASJ,GAAI,OAAkB,EAAXA,EAAEC,UAIhCL,KAAQ,EACRC,OAAQ,EACRC,MAAQ,EAERC,SAAU,SAASC,EAAGC,GAAS,OAAOD,EAAEC,QAAUA,GAClDC,OAAU,SAASF,GAAI,OAAmB,GAAZA,EAAEC,QAChCE,SAAU,SAASH,GAAI,OAAmB,GAAZA,EAAEC,QAChCG,QAAU,SAASJ,GAAI,OAAmB,GAAZA,EAAEC,SAGlC/B,EAAKK,aAAeA,EAyEnBC,EADEJ,EAAI,qBACE,aAEA,SAASS,EAAMC,GACtB,OAAOX,EAAGU,EAAM,iBAAkB,SAASE,GAC1CA,EAAIsB,YAActB,EAAIuB,OACtBxB,EAASI,KAAKC,KAAMJ,OAkBtBwB,cAAe9B,EAKf+B,MAAO/B,EAAa,aAKpBgC,MAAOhC,EAAa,YAKpBD,MAAOA,EAEP0B,OAAQ3B,EAAa2B,OAQrBC,SAAU5B,EAAa4B,SAQvBC,QAAS7B,EAAa6B","file":"../mouse.js","sourcesContent":["define([\"./_base/kernel\", \"./on\", \"./has\", \"./dom\", \"./_base/window\"], function(dojo, on, has, dom, win){\r\n\r\n\t// module:\r\n\t//\t\tdojo/mouse\r\n\r\n    has.add(\"dom-quirks\", win.doc && win.doc.compatMode == \"BackCompat\");\r\n\thas.add(\"events-mouseenter\", win.doc && \"onmouseenter\" in win.doc.createElement(\"div\"));\r\n\thas.add(\"events-mousewheel\", win.doc && 'onmousewheel' in win.doc);\r\n\r\n\tvar mouseButtons;\r\n\tif((has(\"dom-quirks\") && has(\"ie\")) || !has(\"dom-addeventlistener\")){\r\n\t\tmouseButtons = {\r\n\t\t\tLEFT:   1,\r\n\t\t\tMIDDLE: 4,\r\n\t\t\tRIGHT:  2,\r\n\t\t\t// helper functions\r\n\t\t\tisButton: function(e, button){ return e.button & button; },\r\n\t\t\tisLeft:   function(e){ return e.button & 1; },\r\n\t\t\tisMiddle: function(e){ return e.button & 4; },\r\n\t\t\tisRight:  function(e){ return e.button & 2; }\r\n\t\t};\r\n\t}else{\r\n\t\tmouseButtons = {\r\n\t\t\tLEFT:   0,\r\n\t\t\tMIDDLE: 1,\r\n\t\t\tRIGHT:  2,\r\n\t\t\t// helper functions\r\n\t\t\tisButton: function(e, button){ return e.button == button; },\r\n\t\t\tisLeft:   function(e){ return e.button == 0; },\r\n\t\t\tisMiddle: function(e){ return e.button == 1; },\r\n\t\t\tisRight:  function(e){ return e.button == 2; }\r\n\t\t};\r\n\t}\r\n\tdojo.mouseButtons = mouseButtons;\r\n\r\n/*=====\r\n\tdojo.mouseButtons = {\r\n\t\t// LEFT: Number\r\n\t\t//\t\tNumeric value of the left mouse button for the platform.\r\n\t\tLEFT:   0,\r\n\t\t// MIDDLE: Number\r\n\t\t//\t\tNumeric value of the middle mouse button for the platform.\r\n\t\tMIDDLE: 1,\r\n\t\t// RIGHT: Number\r\n\t\t//\t\tNumeric value of the right mouse button for the platform.\r\n\t\tRIGHT:  2,\r\n\r\n\t\tisButton: function(e, button){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tChecks an event object for a pressed button\r\n\t\t\t// e: Event\r\n\t\t\t//\t\tEvent object to examine\r\n\t\t\t// button: Number\r\n\t\t\t//\t\tThe button value (example: dojo.mouseButton.LEFT)\r\n\t\t\treturn e.button == button; // Boolean\r\n\t\t},\r\n\t\tisLeft: function(e){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tChecks an event object for the pressed left button\r\n\t\t\t// e: Event\r\n\t\t\t//\t\tEvent object to examine\r\n\t\t\treturn e.button == 0; // Boolean\r\n\t\t},\r\n\t\tisMiddle: function(e){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tChecks an event object for the pressed middle button\r\n\t\t\t// e: Event\r\n\t\t\t//\t\tEvent object to examine\r\n\t\t\treturn e.button == 1; // Boolean\r\n\t\t},\r\n\t\tisRight: function(e){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tChecks an event object for the pressed right button\r\n\t\t\t// e: Event\r\n\t\t\t//\t\tEvent object to examine\r\n\t\t\treturn e.button == 2; // Boolean\r\n\t\t}\r\n\t};\r\n=====*/\r\n\r\n\tfunction eventHandler(type, selectHandler){\r\n\t\t// emulation of mouseenter/leave with mouseover/out using descendant checking\r\n\t\tvar handler = function(node, listener){\r\n\t\t\treturn on(node, type, function(evt){\r\n\t\t\t\tif(selectHandler){\r\n\t\t\t\t\treturn selectHandler(evt, listener);\r\n\t\t\t\t}\r\n\t\t\t\tif(!dom.isDescendant(evt.relatedTarget, node)){\r\n\t\t\t\t\treturn listener.call(this, evt);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t};\r\n\t\thandler.bubble = function(select){\r\n\t\t\treturn eventHandler(type, function(evt, listener){\r\n\t\t\t\t// using a selector, use the select function to determine if the mouse moved inside the selector and was previously outside the selector\r\n\t\t\t\tvar target = select(evt.target);\r\n\t\t\t\tvar relatedTarget = evt.relatedTarget;\r\n\t\t\t\tif(target && (target != (relatedTarget && relatedTarget.nodeType == 1 && select(relatedTarget)))){\r\n\t\t\t\t\treturn listener.call(target, evt);\r\n\t\t\t\t} \r\n\t\t\t});\r\n\t\t};\r\n\t\treturn handler;\r\n\t}\r\n\tvar wheel;\r\n\tif(has(\"events-mousewheel\")){\r\n\t\twheel = 'mousewheel';\r\n\t}else{ //firefox\r\n\t\twheel = function(node, listener){\r\n\t\t\treturn on(node, 'DOMMouseScroll', function(evt){\r\n\t\t\t\tevt.wheelDelta = -evt.detail;\r\n\t\t\t\tlistener.call(this, evt);\r\n\t\t\t});\r\n\t\t};\r\n\t}\r\n\treturn {\r\n\t\t// summary:\r\n\t\t//\t\tThis module provide mouse event handling utility functions and exports\r\n\t\t//\t\tmouseenter and mouseleave event emulation.\r\n\t\t// example:\r\n\t\t//\t\tTo use these events, you register a mouseenter like this:\r\n\t\t//\t\t|\tdefine([\"dojo/on\", \"dojo/mouse\"], function(on, mouse){\r\n\t\t//\t\t|\t\ton(targetNode, mouse.enter, function(event){\r\n\t\t//\t\t|\t\t\tdojo.addClass(targetNode, \"highlighted\");\r\n\t\t//\t\t|\t\t});\r\n\t\t//\t\t|\t\ton(targetNode, mouse.leave, function(event){\r\n\t\t//\t\t|\t\t\tdojo.removeClass(targetNode, \"highlighted\");\r\n\t\t//\t\t|\t\t});\r\n\r\n\t\t_eventHandler: eventHandler,\t\t// for dojo/touch\r\n\r\n\t\t// enter: Synthetic Event\r\n\t\t//\t\tThis is an extension event for the mouseenter that IE provides, emulating the\r\n\t\t//\t\tbehavior on other browsers.\r\n\t\tenter: eventHandler(\"mouseover\"),\r\n\r\n\t\t// leave: Synthetic Event\r\n\t\t//\t\tThis is an extension event for the mouseleave that IE provides, emulating the\r\n\t\t//\t\tbehavior on other browsers.\r\n\t\tleave: eventHandler(\"mouseout\"),\r\n\r\n\t\t// wheel: Normalized Mouse Wheel Event\r\n\t\t//\t\tThis is an extension event for the mousewheel that non-Mozilla browsers provide,\r\n\t\t//\t\temulating the behavior on Mozilla based browsers.\r\n\t\twheel: wheel,\r\n\r\n\t\tisLeft: mouseButtons.isLeft,\r\n\t\t/*=====\r\n\t\tisLeft: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tTest an event object (from a mousedown event) to see if the left button was pressed.\r\n\t\t},\r\n\t\t=====*/\r\n\r\n\t\tisMiddle: mouseButtons.isMiddle,\r\n\t\t/*=====\r\n\t\t isMiddle: function(){\r\n\t\t\t // summary:\r\n\t\t\t //\t\tTest an event object (from a mousedown event) to see if the middle button was pressed.\r\n\t\t },\r\n\t\t =====*/\r\n\r\n\t\tisRight: mouseButtons.isRight\r\n\t\t/*=====\r\n\t\t , isRight: function(){\r\n\t\t\t // summary:\r\n\t\t\t //\t\tTest an event object (from a mousedown event) to see if the right button was pressed.\r\n\t\t }\r\n\t\t =====*/\r\n\t};\r\n});\r\n"]}