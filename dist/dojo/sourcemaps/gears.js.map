{"version":3,"sources":["gears.js"],"names":["define","lang","has","gears","setObject","_gearsObject","factory","gearsObj","getObject","GearsFactory","ActiveXObject","e","navigator","mimeTypes","document","createElement","setAttribute","style","display","documentElement","appendChild","available"],"mappings":";;;;;;;AAAAA,QAAQ,eAAgB,WAAY,SAASC,EAAMC,GAKnD,IAAIC,KA0DJ,OAtDAF,EAAKG,UAAU,aAAcD,GAE7BA,EAAME,aAAe,WAIpB,IAAIC,EAEAC,EAAWN,EAAKO,UAAU,gBAC9B,GAAGD,EAAW,OAAOA,EAErB,GAA0B,oBAAhBE,aACTH,EAAU,IAAIG,kBAEd,GAAGP,EAAI,MAEN,IACCI,EAAU,IAAII,cAAc,iBAC5B,MAAMC,SAGCC,UAAUC,UAAU,gCAE5BP,EAAUQ,SAASC,cAAc,WACzBC,aAAa,OAAQ,6BAC7BV,EAAQU,aAAa,QAAS,GAC9BV,EAAQU,aAAa,SAAU,GAC/BV,EAAQW,MAAMC,QAAU,OACxBJ,SAASK,gBAAgBC,YAAYd,IAKvC,OAAIA,GAKJL,EAAKG,UAAU,uBAAwBE,GAChCL,EAAKO,UAAU,iBAND,MAatBL,EAAMkB,YAAelB,EAAME,gBAAiB,EAQrCF","file":"../gears.js","sourcesContent":["define([\"./_base/lang\", \"./sniff\"], function(lang, has){\r\n\r\n// module:\r\n//\t\tdojo/gears\r\n\r\nvar gears = {\r\n\t// summary:\r\n\t//\t\tTODOC\r\n};\r\nlang.setObject(\"dojo.gears\", gears);\r\n\r\ngears._gearsObject = function(){\r\n\t// summary:\r\n\t//\t\tfactory method to get a Google Gears plugin instance to\r\n\t//\t\texpose in the browser runtime environment, if present\r\n\tvar factory;\r\n\r\n\tvar gearsObj = lang.getObject(\"google.gears\");\r\n\tif(gearsObj){ return gearsObj; } // already defined elsewhere\r\n\r\n\tif(typeof GearsFactory != \"undefined\"){ // Firefox\r\n\t\tfactory = new GearsFactory();\r\n\t}else{\r\n\t\tif(has(\"ie\")){\r\n\t\t\t// IE\r\n\t\t\ttry{\r\n\t\t\t\tfactory = new ActiveXObject(\"Gears.Factory\");\r\n\t\t\t}catch(e){\r\n\t\t\t\t// ok to squelch; there's no gears factory.  move on.\r\n\t\t\t}\r\n\t\t}else if(navigator.mimeTypes[\"application/x-googlegears\"]){\r\n\t\t\t// Safari?\r\n\t\t\tfactory = document.createElement(\"object\");\r\n\t\t\tfactory.setAttribute(\"type\", \"application/x-googlegears\");\r\n\t\t\tfactory.setAttribute(\"width\", 0);\r\n\t\t\tfactory.setAttribute(\"height\", 0);\r\n\t\t\tfactory.style.display = \"none\";\r\n\t\t\tdocument.documentElement.appendChild(factory);\r\n\t\t}\r\n\t}\r\n\r\n\t// still nothing?\r\n\tif(!factory){ return null; }\r\n\r\n\t// define the global objects now; don't overwrite them though if they\r\n\t// were somehow set internally by the Gears plugin, which is on their\r\n\t// dev roadmap for the future\r\n\tlang.setObject(\"google.gears.factory\", factory);\r\n\treturn lang.getObject(\"google.gears\");\r\n};\r\n\r\n\r\n// see if we have Google Gears installed, and if\r\n// so, make it available in the runtime environment\r\n// and in the Google standard 'google.gears' global object\r\ngears.available = (!!gears._gearsObject())||0;\r\n/*=====\r\n gears.available = {\r\n // summary:\r\n //\t\tTrue if client is using Google Gears\r\n };\r\n =====*/\r\n\r\nreturn gears;\r\n});\r\n"]}