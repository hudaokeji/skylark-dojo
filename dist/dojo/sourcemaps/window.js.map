{"version":3,"sources":["window.js"],"names":["define","lang","has","baseWindow","dom","geom","style","domConstruct","add","win","doc","body","scrollable","create","overflow","overflowX","direction","visibility","position","left","top","width","height","div","ret","x","removeChild","outer","inner","window","getBox","w","h","scrollRoot","compatMode","documentElement","scroll","docScroll","uiWindow","get","innerWidth","clientWidth","innerHeight","clientHeight","l","t","y","document","parentWindow","execScript","_parentWindow","defaultView","scrollIntoView","node","pos","byId","ownerDocument","html","parentNode","isIE","isWK","backCompat","rootWidth","Math","min","rootHeight","nodePos","el","isFixed","toLowerCase","self","this","scrollElementBy","tagName","scrollBy","scrollLeft","scrollTop","elPos","fixedPos","rtl","getComputedStyle","offsetWidth","pb","getPadBorderExtents","clientSize","scrollBarSize","s","old","r","bot","scrollWidth","offsetHeight","scrollHeight","ceil","error","console","setObject"],"mappings":"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","file":"../window.js","sourcesContent":["define([\"./_base/lang\", \"./sniff\", \"./_base/window\", \"./dom\", \"./dom-geometry\", \"./dom-style\", \"./dom-construct\"],\r\n\tfunction(lang, has, baseWindow, dom, geom, style, domConstruct){\r\n\r\n\t// feature detection\r\n\t/* not needed but included here for future reference\r\n\thas.add(\"rtl-innerVerticalScrollBar-on-left\", function(win, doc){\r\n\t\tvar\tbody = baseWindow.body(doc),\r\n\t\t\tscrollable = domConstruct.create('div', {\r\n\t\t\t\tstyle: {overflow:'scroll', overflowX:'hidden', direction:'rtl', visibility:'hidden', position:'absolute', left:'0', width:'64px', height:'64px'}\r\n\t\t\t}, body, \"last\"),\r\n\t\t\tcenter = domConstruct.create('center', {\r\n\t\t\t\tstyle: {overflow:'hidden', direction:'ltr'}\r\n\t\t\t}, scrollable, \"last\"),\r\n\t\t\tinner = domConstruct.create('div', {\r\n\t\t\t\tstyle: {overflow:'visible', display:'inline' }\r\n\t\t\t}, center, \"last\");\r\n\t\tinner.innerHTML=\"&nbsp;\";\r\n\t\tvar midPoint = Math.max(inner.offsetLeft, geom.position(inner).x);\r\n\t\tvar ret = midPoint >= 32;\r\n\t\tcenter.removeChild(inner);\r\n\t\tscrollable.removeChild(center);\r\n\t\tbody.removeChild(scrollable);\r\n\t\treturn ret;\r\n\t});\r\n\t*/\r\n\thas.add(\"rtl-adjust-position-for-verticalScrollBar\", function(win, doc){\r\n\t\tvar\tbody = baseWindow.body(doc),\r\n\t\t\tscrollable = domConstruct.create('div', {\r\n\t\t\t\tstyle: {overflow:'scroll', overflowX:'visible', direction:'rtl', visibility:'hidden', position:'absolute', left:'0', top:'0', width:'64px', height:'64px'}\r\n\t\t\t}, body, \"last\"),\r\n\t\t\tdiv = domConstruct.create('div', {\r\n\t\t\t\tstyle: {overflow:'hidden', direction:'ltr'}\r\n\t\t\t}, scrollable, \"last\"),\r\n\t\t\tret = geom.position(div).x != 0;\r\n\t\tscrollable.removeChild(div);\r\n\t\tbody.removeChild(scrollable);\r\n\t\treturn ret;\r\n\t});\r\n\r\n\thas.add(\"position-fixed-support\", function(win, doc){\r\n\t\t// IE6, IE7+quirks, and some older mobile browsers don't support position:fixed\r\n\t\tvar\tbody = baseWindow.body(doc),\r\n\t\t\touter = domConstruct.create('span', {\r\n\t\t\t\tstyle: {visibility:'hidden', position:'fixed', left:'1px', top:'1px'}\r\n\t\t\t}, body, \"last\"),\r\n\t\t\tinner = domConstruct.create('span', {\r\n\t\t\t\tstyle: {position:'fixed', left:'0', top:'0'}\r\n\t\t\t}, outer, \"last\"),\r\n\t\t\tret = geom.position(inner).x != geom.position(outer).x;\r\n\t\touter.removeChild(inner);\r\n\t\tbody.removeChild(outer);\r\n\t\treturn ret;\r\n\t});\r\n\r\n\t// module:\r\n\t//\t\tdojo/window\r\n\r\n\tvar window = {\r\n\t\t// summary:\r\n\t\t//\t\tTODOC\r\n\r\n\t\tgetBox: function(/*Document?*/ doc){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReturns the dimensions and scroll position of the viewable area of a browser window\r\n\r\n\t\t\tdoc = doc || baseWindow.doc;\r\n\r\n\t\t\tvar\r\n\t\t\t\tscrollRoot = (doc.compatMode == 'BackCompat') ? baseWindow.body(doc) : doc.documentElement,\r\n\t\t\t\t// get scroll position\r\n\t\t\t\tscroll = geom.docScroll(doc), // scrollRoot.scrollTop/Left should work\r\n\t\t\t\tw, h;\r\n\r\n\t\t\tif(has(\"touch\")){ // if(scrollbars not supported)\r\n\t\t\t\tvar uiWindow = window.get(doc);   // use UI window, not dojo.global window\r\n\t\t\t\t// on mobile, scrollRoot.clientHeight <= uiWindow.innerHeight <= scrollRoot.offsetHeight, return uiWindow.innerHeight\r\n\t\t\t\tw = uiWindow.innerWidth || scrollRoot.clientWidth; // || scrollRoot.clientXXX probably never evaluated\r\n\t\t\t\th = uiWindow.innerHeight || scrollRoot.clientHeight;\r\n\t\t\t}else{\r\n\t\t\t\t// on desktops, scrollRoot.clientHeight <= scrollRoot.offsetHeight <= uiWindow.innerHeight, return scrollRoot.clientHeight\r\n\t\t\t\t// uiWindow.innerWidth/Height includes the scrollbar and cannot be used\r\n\t\t\t\tw = scrollRoot.clientWidth;\r\n\t\t\t\th = scrollRoot.clientHeight;\r\n\t\t\t}\r\n\t\t\treturn {\r\n\t\t\t\tl: scroll.x,\r\n\t\t\t\tt: scroll.y,\r\n\t\t\t\tw: w,\r\n\t\t\t\th: h\r\n\t\t\t};\r\n\t\t},\r\n\r\n\t\tget: function(/*Document*/ doc){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tGet window object associated with document doc.\r\n\t\t\t// doc:\r\n\t\t\t//\t\tThe document to get the associated window for.\r\n\r\n\t\t\t// In some IE versions (at least 6.0), document.parentWindow does not return a\r\n\t\t\t// reference to the real window object (maybe a copy), so we must fix it as well\r\n\t\t\t// We use IE specific execScript to attach the real window reference to\r\n\t\t\t// document._parentWindow for later use\r\n\t\t\tif(has(\"ie\") && window !== document.parentWindow){\r\n\t\t\t\t/*\r\n\t\t\t\tIn IE 6, only the variable \"window\" can be used to connect events (others\r\n\t\t\t\tmay be only copies).\r\n\t\t\t\t*/\r\n\t\t\t\tdoc.parentWindow.execScript(\"document._parentWindow = window;\", \"Javascript\");\r\n\t\t\t\t//to prevent memory leak, unset it after use\r\n\t\t\t\t//another possibility is to add an onUnload handler which seems overkill to me (liucougar)\r\n\t\t\t\tvar win = doc._parentWindow;\r\n\t\t\t\tdoc._parentWindow = null;\r\n\t\t\t\treturn win;\t//\tWindow\r\n\t\t\t}\r\n\r\n\t\t\treturn doc.parentWindow || doc.defaultView;\t//\tWindow\r\n\t\t},\r\n\r\n\t\tscrollIntoView: function(/*DomNode*/ node, /*Object?*/ pos){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tScroll the passed node into view using minimal movement, if it is not already.\r\n\r\n\t\t\t// Don't rely on node.scrollIntoView working just because the function is there since\r\n\t\t\t// it forces the node to the page's bottom or top (and left or right in IE) without consideration for the minimal movement.\r\n\t\t\t// WebKit's node.scrollIntoViewIfNeeded doesn't work either for inner scrollbars in right-to-left mode\r\n\t\t\t// and when there's a fixed position scrollable element\r\n\r\n\t\t\ttry{ // catch unexpected/unrecreatable errors (#7808) since we can recover using a semi-acceptable native method\r\n\t\t\t\tnode = dom.byId(node);\r\n\t\t\t\tvar\tdoc = node.ownerDocument || baseWindow.doc,\t// TODO: why baseWindow.doc?  Isn't node.ownerDocument always defined?\r\n\t\t\t\t\tbody = baseWindow.body(doc),\r\n\t\t\t\t\thtml = doc.documentElement || body.parentNode,\r\n\t\t\t\t\tisIE = has(\"ie\"),\r\n\t\t\t\t\tisWK = has(\"webkit\");\r\n\t\t\t\t// if an untested browser, then use the native method\r\n\t\t\t\tif(node == body || node == html){ return; }\r\n\t\t\t\tif(!(has(\"mozilla\") || isIE || isWK || has(\"opera\") || has(\"trident\")) && (\"scrollIntoView\" in node)){\r\n\t\t\t\t\tnode.scrollIntoView(false); // short-circuit to native if possible\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tvar\tbackCompat = doc.compatMode == 'BackCompat',\r\n\t\t\t\t\trootWidth = Math.min(body.clientWidth || html.clientWidth, html.clientWidth || body.clientWidth),\r\n\t\t\t\t\trootHeight = Math.min(body.clientHeight || html.clientHeight, html.clientHeight || body.clientHeight),\r\n\t\t\t\t\tscrollRoot = (isWK || backCompat) ? body : html,\r\n\t\t\t\t\tnodePos = pos || geom.position(node),\r\n\t\t\t\t\tel = node.parentNode,\r\n\t\t\t\t\tisFixed = function(el){\r\n\t\t\t\t\t\treturn (isIE <= 6 || (isIE == 7 && backCompat))\r\n\t\t\t\t\t\t\t? false\r\n\t\t\t\t\t\t\t: (has(\"position-fixed-support\") && (style.get(el, 'position').toLowerCase() == \"fixed\"));\r\n\t\t\t\t\t},\r\n\t\t\t\t\tself = this,\r\n\t\t\t\t\tscrollElementBy = function(el, x, y){\r\n\t\t\t\t\t\tif(el.tagName == \"BODY\" || el.tagName == \"HTML\"){\r\n\t\t\t\t\t\t\tself.get(el.ownerDocument).scrollBy(x, y);\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tx && (el.scrollLeft += x);\r\n\t\t\t\t\t\t\ty && (el.scrollTop += y);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t};\r\n\t\t\t\tif(isFixed(node)){ return; } // nothing to do\r\n\t\t\t\twhile(el){\r\n\t\t\t\t\tif(el == body){ el = scrollRoot; }\r\n\t\t\t\t\tvar\telPos = geom.position(el),\r\n\t\t\t\t\t\tfixedPos = isFixed(el),\r\n\t\t\t\t\t\trtl = style.getComputedStyle(el).direction.toLowerCase() == \"rtl\";\r\n\r\n\t\t\t\t\tif(el == scrollRoot){\r\n\t\t\t\t\t\telPos.w = rootWidth; elPos.h = rootHeight;\r\n\t\t\t\t\t\tif(scrollRoot == html && (isIE || has(\"trident\")) && rtl){ elPos.x += scrollRoot.offsetWidth-elPos.w; } // IE workaround where scrollbar causes negative x\r\n\t\t\t\t\t\tif(elPos.x < 0 || !isIE || isIE >= 9 || has(\"trident\")){ elPos.x = 0; } // older IE can have values > 0\r\n\t\t\t\t\t\tif(elPos.y < 0 || !isIE || isIE >= 9 || has(\"trident\")){ elPos.y = 0; }\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tvar pb = geom.getPadBorderExtents(el);\r\n\t\t\t\t\t\telPos.w -= pb.w; elPos.h -= pb.h; elPos.x += pb.l; elPos.y += pb.t;\r\n\t\t\t\t\t\tvar clientSize = el.clientWidth,\r\n\t\t\t\t\t\t\tscrollBarSize = elPos.w - clientSize;\r\n\t\t\t\t\t\tif(clientSize > 0 && scrollBarSize > 0){\r\n\t\t\t\t\t\t\tif(rtl && has(\"rtl-adjust-position-for-verticalScrollBar\")){\r\n\t\t\t\t\t\t\t\telPos.x += scrollBarSize;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telPos.w = clientSize;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tclientSize = el.clientHeight;\r\n\t\t\t\t\t\tscrollBarSize = elPos.h - clientSize;\r\n\t\t\t\t\t\tif(clientSize > 0 && scrollBarSize > 0){\r\n\t\t\t\t\t\t\telPos.h = clientSize;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(fixedPos){ // bounded by viewport, not parents\r\n\t\t\t\t\t\tif(elPos.y < 0){\r\n\t\t\t\t\t\t\telPos.h += elPos.y; elPos.y = 0;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(elPos.x < 0){\r\n\t\t\t\t\t\t\telPos.w += elPos.x; elPos.x = 0;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(elPos.y + elPos.h > rootHeight){\r\n\t\t\t\t\t\t\telPos.h = rootHeight - elPos.y;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(elPos.x + elPos.w > rootWidth){\r\n\t\t\t\t\t\t\telPos.w = rootWidth - elPos.x;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// calculate overflow in all 4 directions\r\n\t\t\t\t\tvar\tl = nodePos.x - elPos.x, // beyond left: < 0\r\n//\t\t\t\t\t\tt = nodePos.y - Math.max(elPos.y, 0), // beyond top: < 0\r\n\t\t\t\t\t\tt = nodePos.y - elPos.y, // beyond top: < 0\r\n\t\t\t\t\t\tr = l + nodePos.w - elPos.w, // beyond right: > 0\r\n\t\t\t\t\t\tbot = t + nodePos.h - elPos.h; // beyond bottom: > 0\r\n\t\t\t\t\tvar s, old;\r\n\t\t\t\t\tif(r * l > 0 && (!!el.scrollLeft || el == scrollRoot || el.scrollWidth > el.offsetHeight)){\r\n\t\t\t\t\t\ts = Math[l < 0? \"max\" : \"min\"](l, r);\r\n\t\t\t\t\t\tif(rtl && ((isIE == 8 && !backCompat) || isIE >= 9 || has(\"trident\"))){ s = -s; }\r\n\t\t\t\t\t\told = el.scrollLeft;\r\n\t\t\t\t\t\tscrollElementBy(el, s, 0);\r\n\t\t\t\t\t\ts = el.scrollLeft - old;\r\n\t\t\t\t\t\tnodePos.x -= s;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(bot * t > 0 && (!!el.scrollTop || el == scrollRoot || el.scrollHeight > el.offsetHeight)){\r\n\t\t\t\t\t\ts = Math.ceil(Math[t < 0? \"max\" : \"min\"](t, bot));\r\n\t\t\t\t\t\told = el.scrollTop;\r\n\t\t\t\t\t\tscrollElementBy(el, 0, s);\r\n\t\t\t\t\t\ts = el.scrollTop - old;\r\n\t\t\t\t\t\tnodePos.y -= s;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tel = (el != scrollRoot) && !fixedPos && el.parentNode;\r\n\t\t\t\t}\r\n\t\t\t}catch(error){\r\n\t\t\t\tconsole.error('scrollIntoView: ' + error);\r\n\t\t\t\tnode.scrollIntoView(false);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\thas(\"extend-dojo\") && lang.setObject(\"dojo.window\", window);\r\n\r\n\treturn window;\r\n});\r\n"]}