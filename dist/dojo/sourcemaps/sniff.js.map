{"version":3,"sources":["sniff.js"],"names":["define","has","n","navigator","dua","userAgent","dav","appVersion","tv","parseFloat","add","indexOf","split","undefined","document","compatMode","match","p","RegExp","$1","replace","v","os","SVGAngle","all","isIE","mode","documentMode","Math","floor","opera","wiiremote"],"mappings":";;;;;;;AAAAA,QAAQ,SAAU,SAASC,GAY1B,GAAGA,EAAI,gBAAgB,CACtB,IAAIC,EAAIC,UACPC,EAAMF,EAAEG,UACRC,EAAMJ,EAAEK,WACRC,EAAKC,WAAWH,GAUjB,GARAL,EAAIS,IAAI,MAAON,EAAIO,QAAQ,aAAe,GAC1CV,EAAIS,IAAI,QAASD,WAAWL,EAAIQ,MAAM,cAAc,UAAOC,GAC3DZ,EAAIS,IAAI,QAASJ,EAAIK,QAAQ,cAAgB,EAAIH,OAAKK,GACtDZ,EAAIS,IAAI,SAAUD,WAAWL,EAAIQ,MAAM,WAAW,UAAOC,GACzDZ,EAAIS,IAAI,SAAUD,WAAWL,EAAIQ,MAAM,WAAW,UAAOC,GACzDZ,EAAIS,IAAI,SAAUJ,EAAIK,QAAQ,WAAW,IAAMV,EAAI,UAAYQ,WAAWH,EAAIM,MAAM,YAAY,SAAMC,GACtGZ,EAAIS,IAAI,MAAOJ,EAAIK,QAAQ,cAAgB,GAC3CV,EAAIS,IAAI,SAAiC,cAAvBI,SAASC,YACxBX,EAAIY,MAAM,sBAAsB,CAClC,IAAIC,EAAIC,OAAOC,GAAGC,QAAQ,IAAK,KAC3BC,EAAIjB,EAAIY,MAAM,eAAiBE,OAAOC,GAAK,IAC3CG,EAAKb,WAAWY,EAAED,QAAQ,IAAK,KAAKA,QAAQ,KAAM,KACtDnB,EAAIS,IAAIO,EAAGK,GACXrB,EAAIS,IAAI,MAAOY,GAQhB,GANArB,EAAIS,IAAI,UAAWD,WAAWL,EAAIQ,MAAM,YAAY,UAAOC,GAC3DZ,EAAIS,IAAI,MAAON,EAAIO,QAAQ,eAAiB,GAAKP,EAAIO,QAAQ,SAAW,IAAMF,WAAWL,EAAIQ,MAAM,YAAY,UAAOC,GACtHZ,EAAIS,IAAI,UAAWD,WAAWH,EAAIM,MAAM,YAAY,UAAOC,GAE3DZ,EAAIS,IAAI,MAA2B,oBAAba,WAElBtB,EAAI,UAAU,CAkBjB,GAhBGG,EAAIO,QAAQ,UAAY,GAG1BV,EAAIS,IAAI,QAASF,GAAM,KAAMC,WAAWL,EAAIQ,MAAM,YAAY,KAAYJ,GAIxEJ,EAAIO,QAAQ,UAAY,IAAMV,EAAI,WAAaA,EAAI,YAAcA,EAAI,YACvEA,EAAIS,IAAI,UAAWF,GAEjBP,EAAI,YAENA,EAAIS,IAAI,KAAMD,WAAWL,EAAIQ,MAAM,YAAY,IAAMR,EAAIQ,MAAM,cAAc,UAAOC,GAIlFC,SAASU,MAAQvB,EAAI,SAAS,CAChC,IAAIwB,EAAOhB,WAAWH,EAAIM,MAAM,SAAS,UAAOC,EAQ5Ca,EAAOZ,SAASa,aACjBD,GAAgB,GAARA,GAAaE,KAAKC,MAAMJ,IAASC,IAC3CD,EAAOC,GAGRzB,EAAIS,IAAI,KAAMe,GAIfxB,EAAIS,IAAI,MAAuB,oBAAToB,OAAwBA,MAAMC,YAItD,OAAO9B","file":"../sniff.js","sourcesContent":["define([\"./has\"], function(has){\r\n\t// module:\r\n\t//\t\tdojo/sniff\r\n\r\n\t/*=====\r\n\treturn function(){\r\n\t\t// summary:\r\n\t\t//\t\tThis module sets has() flags based on the current browser.\r\n\t\t//\t\tIt returns the has() function.\r\n\t};\r\n\t=====*/\r\n\r\n\tif(has(\"host-browser\")){\r\n\t\tvar n = navigator,\r\n\t\t\tdua = n.userAgent,\r\n\t\t\tdav = n.appVersion,\r\n\t\t\ttv = parseFloat(dav);\r\n\r\n\t\thas.add(\"air\", dua.indexOf(\"AdobeAIR\") >= 0);\r\n\t\thas.add(\"msapp\", parseFloat(dua.split(\"MSAppHost/\")[1]) || undefined);\r\n\t\thas.add(\"khtml\", dav.indexOf(\"Konqueror\") >= 0 ? tv : undefined);\r\n\t\thas.add(\"webkit\", parseFloat(dua.split(\"WebKit/\")[1]) || undefined);\r\n\t\thas.add(\"chrome\", parseFloat(dua.split(\"Chrome/\")[1]) || undefined);\r\n\t\thas.add(\"safari\", dav.indexOf(\"Safari\")>=0 && !has(\"chrome\") ? parseFloat(dav.split(\"Version/\")[1]) : undefined);\r\n\t\thas.add(\"mac\", dav.indexOf(\"Macintosh\") >= 0);\r\n\t\thas.add(\"quirks\", document.compatMode == \"BackCompat\");\r\n\t\tif(dua.match(/(iPhone|iPod|iPad)/)){\r\n\t\t\tvar p = RegExp.$1.replace(/P/, \"p\");\r\n\t\t\tvar v = dua.match(/OS ([\\d_]+)/) ? RegExp.$1 : \"1\";\r\n\t\t\tvar os = parseFloat(v.replace(/_/, \".\").replace(/_/g, \"\"));\r\n\t\t\thas.add(p, os);\t\t// \"iphone\", \"ipad\" or \"ipod\"\r\n\t\t\thas.add(\"ios\", os);\r\n\t\t}\r\n\t\thas.add(\"android\", parseFloat(dua.split(\"Android \")[1]) || undefined);\r\n\t\thas.add(\"bb\", (dua.indexOf(\"BlackBerry\") >= 0 || dua.indexOf(\"BB10\") >= 0) && parseFloat(dua.split(\"Version/\")[1]) || undefined);\r\n\t\thas.add(\"trident\", parseFloat(dav.split(\"Trident/\")[1]) || undefined);\r\n\r\n\t\thas.add(\"svg\", typeof SVGAngle !== \"undefined\");\r\n\r\n\t\tif(!has(\"webkit\")){\r\n\t\t\t// Opera\r\n\t\t\tif(dua.indexOf(\"Opera\") >= 0){\r\n\t\t\t\t// see http://dev.opera.com/articles/view/opera-ua-string-changes and http://www.useragentstring.com/pages/Opera/\r\n\t\t\t\t// 9.8 has both styles; <9.8, 9.9 only old style\r\n\t\t\t\thas.add(\"opera\", tv >= 9.8 ? parseFloat(dua.split(\"Version/\")[1]) || tv : tv);\r\n\t\t\t}\r\n\r\n\t\t\t// Mozilla and firefox\r\n\t\t\tif(dua.indexOf(\"Gecko\") >= 0 && !has(\"khtml\") && !has(\"webkit\") && !has(\"trident\")){\r\n\t\t\t\thas.add(\"mozilla\", tv);\r\n\t\t\t}\r\n\t\t\tif(has(\"mozilla\")){\r\n\t\t\t\t//We really need to get away from this. Consider a sane isGecko approach for the future.\r\n\t\t\t\thas.add(\"ff\", parseFloat(dua.split(\"Firefox/\")[1] || dua.split(\"Minefield/\")[1]) || undefined);\r\n\t\t\t}\r\n\r\n\t\t\t// IE\r\n\t\t\tif(document.all && !has(\"opera\")){\r\n\t\t\t\tvar isIE = parseFloat(dav.split(\"MSIE \")[1]) || undefined;\r\n\r\n\t\t\t\t//In cases where the page has an HTTP header or META tag with\r\n\t\t\t\t//X-UA-Compatible, then it is in emulation mode.\r\n\t\t\t\t//Make sure isIE reflects the desired version.\r\n\t\t\t\t//document.documentMode of 5 means quirks mode.\r\n\t\t\t\t//Only switch the value if documentMode's major version\r\n\t\t\t\t//is different from isIE's major version.\r\n\t\t\t\tvar mode = document.documentMode;\r\n\t\t\t\tif(mode && mode != 5 && Math.floor(isIE) != mode){\r\n\t\t\t\t\tisIE = mode;\r\n\t\t\t\t}\r\n\r\n\t\t\t\thas.add(\"ie\", isIE);\r\n\t\t\t}\r\n\r\n\t\t\t// Wii\r\n\t\t\thas.add(\"wii\", typeof opera != \"undefined\" && opera.wiiremote);\r\n\t\t}\r\n\t}\r\n\r\n\treturn has;\r\n});\r\n"]}