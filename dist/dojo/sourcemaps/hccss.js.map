{"version":3,"sources":["hccss.js"],"names":["define","require","config","domClass","domStyle","has","domReady","win","add","div","doc","createElement","style","cssText","blankGif","toUrl","body","appendChild","cs","getComputedStyle","bkImg","backgroundImage","hc","borderTopColor","borderRightColor","outerHTML","removeChild"],"mappings":";;;;;;;AAAAA,QACC,UACA,iBACA,cACA,cACA,QACA,aACA,kBACE,SAASC,EAASC,EAAQC,EAAUC,EAAUC,EAAKC,EAAUC,GA0C/D,OA3BAF,EAAIG,IAAI,eAAgB,WAEvB,IAAIC,EAAMF,EAAIG,IAAIC,cAAc,OAChCF,EAAIG,MAAMC,QAAU,mHACWX,EAAOY,UAAYb,EAAQc,MAAM,0BAA4B,MAC5FR,EAAIS,OAAOC,YAAYR,GAEvB,IAAIS,EAAKd,EAASe,iBAAiBV,GAClCW,EAAQF,EAAGG,gBACXC,EAAMJ,EAAGK,gBAAkBL,EAAGM,kBAC5BJ,IAAmB,QAATA,GAA4B,qBAATA,GAQhC,OANGf,EAAI,OAAS,EACfI,EAAIgB,UAAY,GAEhBlB,EAAIS,OAAOU,YAAYjB,GAGjBa,IAGRhB,EAAS,WACLD,EAAI,iBACNF,EAASK,IAAID,EAAIS,OAAQ,aAIpBX","file":"../hccss.js","sourcesContent":["define([\r\n\t\"require\",\t\t\t// require, require.toUrl\r\n\t\"./_base/config\", // config.blankGif\r\n\t\"./dom-class\", // domClass.add\r\n\t\"./dom-style\", // domStyle.getComputedStyle\r\n\t\"./has\",\r\n\t\"./domReady\",\r\n\t\"./_base/window\" // win.body\r\n], function(require, config, domClass, domStyle, has, domReady, win){\r\n\r\n\t// module:\r\n\t//\t\tdojo/hccss\r\n\r\n\t/*=====\r\n\treturn function(){\r\n\t\t// summary:\r\n\t\t//\t\tTest if computer is in high contrast mode (i.e. if browser is not displaying background images).\r\n\t\t//\t\tDefines `has(\"highcontrast\")` and sets `dj_a11y` CSS class on `<body>` if machine is in high contrast mode.\r\n\t\t//\t\tReturns `has()` method;\r\n\t};\r\n\t=====*/\r\n\r\n\t// Has() test for when background images aren't displayed.  Don't call has(\"highcontrast\") before dojo/domReady!.\r\n\thas.add(\"highcontrast\", function(){\r\n\t\t// note: if multiple documents, doesn't matter which one we use\r\n\t\tvar div = win.doc.createElement(\"div\");\r\n\t\tdiv.style.cssText = \"border: 1px solid; border-color:red green; position: absolute; height: 5px; top: -999px;\" +\r\n\t\t\t\"background-image: url(\\\"\" + (config.blankGif || require.toUrl(\"./resources/blank.gif\")) + \"\\\");\";\r\n\t\twin.body().appendChild(div);\r\n\r\n\t\tvar cs = domStyle.getComputedStyle(div),\r\n\t\t\tbkImg = cs.backgroundImage,\r\n\t\t\thc = (cs.borderTopColor == cs.borderRightColor) ||\r\n\t\t\t\t(bkImg && (bkImg == \"none\" || bkImg == \"url(invalid-url:)\" ));\r\n\r\n\t\tif(has(\"ie\") <= 8){\r\n\t\t\tdiv.outerHTML = \"\";\t\t// prevent mixed-content warning, see http://support.microsoft.com/kb/925014\r\n\t\t}else{\r\n\t\t\twin.body().removeChild(div);\r\n\t\t}\r\n\r\n\t\treturn hc;\r\n\t});\r\n\r\n\tdomReady(function(){\r\n\t\tif(has(\"highcontrast\")){\r\n\t\t\tdomClass.add(win.body(), \"dj_a11y\");\r\n\t\t}\r\n\t});\r\n\r\n\treturn has;\r\n});\r\n"]}