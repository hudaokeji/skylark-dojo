/**
 * dojo - A version of dojo.js framework that ported to running on skylarkjs.
 * @author Hudaokeji, Inc.
 * @version v0.9.0
 * @link https://github.com/skylark-integration/dojo/
 * @license MIT
 */
define(["exports","../errors/RequestError","../errors/CancelError","../Deferred","../io-query","../_base/array","../_base/lang","../promise/Promise"],function(exports,e,t,r,n,o,a,c){exports.deepCopy=function(e,t){for(var r in t){var n=e[r],o=t[r];n!==o&&(n&&"object"==typeof n&&o&&"object"==typeof o?exports.deepCopy(n,o):e[r]=o)}return e},exports.deepCreate=function(e,t){t=t||{};var r,n,o=a.delegate(e);for(r in e)(n=e[r])&&"object"==typeof n&&(o[r]=exports.deepCreate(n,t[r]));return exports.deepCopy(o,t)};var i=Object.freeze||function(e){return e};function u(e){return i(e)}function f(e){return e.data||e.text}exports.deferred=function(n,o,s,p,d,h){var y=new r(function(r){return o&&o(y,n),r&&(r instanceof e||r instanceof t)?r:new t("Request canceled",n)});y.response=n,y.isValid=s,y.isReady=p,y.handleResponse=d;var l=y.then(u).otherwise(function(e){throw e.response=n,e});exports.notify&&l.then(a.hitch(exports.notify,"emit","load"),a.hitch(exports.notify,"emit","error"));var v=l.then(f),C=new c;for(var E in v)v.hasOwnProperty(E)&&(C[E]=v[E]);return C.response=l,i(C),h&&y.then(function(e){h.call(y,e)},function(e){h.call(y,n,e)}),y.promise=C,y.then=C.then,y},exports.addCommonMethods=function(e,t){o.forEach(t||["GET","POST","PUT","DELETE"],function(t){e[("DELETE"===t?"DEL":t).toLowerCase()]=function(r,n){return(n=a.delegate(n||{})).method=t,e(r,n)}})},exports.parseArgs=function(e,t,r){var o=t.data,a=t.query;return o&&!r&&"object"==typeof o&&(t.data=n.objectToQuery(o)),a?("object"==typeof a&&(a=n.objectToQuery(a)),t.preventCache&&(a+=(a?"&":"")+"request.preventCache="+ +new Date)):t.preventCache&&(a="request.preventCache="+ +new Date),e&&a&&(e+=(~e.indexOf("?")?"&":"?")+a),{url:e,options:t,getHeader:function(e){return null}}},exports.checkStatus=function(e){return(e=e||0)>=200&&e<300||304===e||1223===e||!e}});
//# sourceMappingURL=../sourcemaps/request/util.js.map
